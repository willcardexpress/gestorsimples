(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Be=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bh(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Xu={exports:{}},ui={},Zu={exports:{}},D={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bn=Symbol.for("react.element"),Vh=Symbol.for("react.portal"),Hh=Symbol.for("react.fragment"),Wh=Symbol.for("react.strict_mode"),qh=Symbol.for("react.profiler"),Kh=Symbol.for("react.provider"),Gh=Symbol.for("react.context"),Qh=Symbol.for("react.forward_ref"),Jh=Symbol.for("react.suspense"),Yh=Symbol.for("react.memo"),Xh=Symbol.for("react.lazy"),wl=Symbol.iterator;function Zh(e){return e===null||typeof e!="object"?null:(e=wl&&e[wl]||e["@@iterator"],typeof e=="function"?e:null)}var ec={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tc=Object.assign,rc={};function Wr(e,t,r){this.props=e,this.context=t,this.refs=rc,this.updater=r||ec}Wr.prototype.isReactComponent={};Wr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Wr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function nc(){}nc.prototype=Wr.prototype;function vo(e,t,r){this.props=e,this.context=t,this.refs=rc,this.updater=r||ec}var xo=vo.prototype=new nc;xo.constructor=vo;tc(xo,Wr.prototype);xo.isPureReactComponent=!0;var kl=Array.isArray,sc=Object.prototype.hasOwnProperty,wo={current:null},ic={key:!0,ref:!0,__self:!0,__source:!0};function ac(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)sc.call(t,n)&&!ic.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Bn,type:e,key:i,ref:a,props:s,_owner:wo.current}}function ef(e,t){return{$$typeof:Bn,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ko(e){return typeof e=="object"&&e!==null&&e.$$typeof===Bn}function tf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var _l=/\/+/g;function Ii(e,t){return typeof e=="object"&&e!==null&&e.key!=null?tf(""+e.key):t.toString(36)}function ks(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Bn:case Vh:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+Ii(a,0):n,kl(s)?(r="",e!=null&&(r=e.replace(_l,"$&/")+"/"),ks(s,t,r,"",function(c){return c})):s!=null&&(ko(s)&&(s=ef(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(_l,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",kl(e))for(var l=0;l<e.length;l++){i=e[l];var u=n+Ii(i,l);a+=ks(i,t,r,u,s)}else if(u=Zh(e),typeof u=="function")for(e=u.call(e),l=0;!(i=e.next()).done;)i=i.value,u=n+Ii(i,l++),a+=ks(i,t,r,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Zn(e,t,r){if(e==null)return e;var n=[],s=0;return ks(e,n,"","",function(i){return t.call(r,i,s++)}),n}function rf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var _e={current:null},_s={transition:null},nf={ReactCurrentDispatcher:_e,ReactCurrentBatchConfig:_s,ReactCurrentOwner:wo};function oc(){throw Error("act(...) is not supported in production builds of React.")}D.Children={map:Zn,forEach:function(e,t,r){Zn(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Zn(e,function(){t++}),t},toArray:function(e){return Zn(e,function(t){return t})||[]},only:function(e){if(!ko(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};D.Component=Wr;D.Fragment=Hh;D.Profiler=qh;D.PureComponent=vo;D.StrictMode=Wh;D.Suspense=Jh;D.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nf;D.act=oc;D.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=tc({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=wo.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)sc.call(t,u)&&!ic.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];n.children=l}return{$$typeof:Bn,type:e.type,key:s,ref:i,props:n,_owner:a}};D.createContext=function(e){return e={$$typeof:Gh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Kh,_context:e},e.Consumer=e};D.createElement=ac;D.createFactory=function(e){var t=ac.bind(null,e);return t.type=e,t};D.createRef=function(){return{current:null}};D.forwardRef=function(e){return{$$typeof:Qh,render:e}};D.isValidElement=ko;D.lazy=function(e){return{$$typeof:Xh,_payload:{_status:-1,_result:e},_init:rf}};D.memo=function(e,t){return{$$typeof:Yh,type:e,compare:t===void 0?null:t}};D.startTransition=function(e){var t=_s.transition;_s.transition={};try{e()}finally{_s.transition=t}};D.unstable_act=oc;D.useCallback=function(e,t){return _e.current.useCallback(e,t)};D.useContext=function(e){return _e.current.useContext(e)};D.useDebugValue=function(){};D.useDeferredValue=function(e){return _e.current.useDeferredValue(e)};D.useEffect=function(e,t){return _e.current.useEffect(e,t)};D.useId=function(){return _e.current.useId()};D.useImperativeHandle=function(e,t,r){return _e.current.useImperativeHandle(e,t,r)};D.useInsertionEffect=function(e,t){return _e.current.useInsertionEffect(e,t)};D.useLayoutEffect=function(e,t){return _e.current.useLayoutEffect(e,t)};D.useMemo=function(e,t){return _e.current.useMemo(e,t)};D.useReducer=function(e,t,r){return _e.current.useReducer(e,t,r)};D.useRef=function(e){return _e.current.useRef(e)};D.useState=function(e){return _e.current.useState(e)};D.useSyncExternalStore=function(e,t,r){return _e.current.useSyncExternalStore(e,t,r)};D.useTransition=function(){return _e.current.useTransition()};D.version="18.3.1";Zu.exports=D;var I=Zu.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sf=I,af=Symbol.for("react.element"),of=Symbol.for("react.fragment"),lf=Object.prototype.hasOwnProperty,uf=sf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cf={key:!0,ref:!0,__self:!0,__source:!0};function lc(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)lf.call(t,n)&&!cf.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:af,type:e,key:i,ref:a,props:s,_owner:uf.current}}ui.Fragment=of;ui.jsx=lc;ui.jsxs=lc;Xu.exports=ui;var o=Xu.exports,uc={exports:{}},Le={},cc={exports:{}},dc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,A){var R=N.length;N.push(A);e:for(;0<R;){var Z=R-1>>>1,oe=N[Z];if(0<s(oe,A))N[Z]=A,N[R]=oe,R=Z;else break e}}function r(N){return N.length===0?null:N[0]}function n(N){if(N.length===0)return null;var A=N[0],R=N.pop();if(R!==A){N[0]=R;e:for(var Z=0,oe=N.length,Yn=oe>>>1;Z<Yn;){var Wt=2*(Z+1)-1,Ai=N[Wt],qt=Wt+1,Xn=N[qt];if(0>s(Ai,R))qt<oe&&0>s(Xn,Ai)?(N[Z]=Xn,N[qt]=R,Z=qt):(N[Z]=Ai,N[Wt]=R,Z=Wt);else if(qt<oe&&0>s(Xn,R))N[Z]=Xn,N[qt]=R,Z=qt;else break e}}return A}function s(N,A){var R=N.sortIndex-A.sortIndex;return R!==0?R:N.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var u=[],c=[],d=1,h=null,f=3,y=!1,v=!1,x=!1,k=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(N){for(var A=r(c);A!==null;){if(A.callback===null)n(c);else if(A.startTime<=N)n(c),A.sortIndex=A.expirationTime,t(u,A);else break;A=r(c)}}function w(N){if(x=!1,m(N),!v)if(r(u)!==null)v=!0,z(_);else{var A=r(c);A!==null&&B(w,A.startTime-N)}}function _(N,A){v=!1,x&&(x=!1,g(b),b=-1),y=!0;var R=f;try{for(m(A),h=r(u);h!==null&&(!(h.expirationTime>A)||N&&!M());){var Z=h.callback;if(typeof Z=="function"){h.callback=null,f=h.priorityLevel;var oe=Z(h.expirationTime<=A);A=e.unstable_now(),typeof oe=="function"?h.callback=oe:h===r(u)&&n(u),m(A)}else n(u);h=r(u)}if(h!==null)var Yn=!0;else{var Wt=r(c);Wt!==null&&B(w,Wt.startTime-A),Yn=!1}return Yn}finally{h=null,f=R,y=!1}}var S=!1,E=null,b=-1,O=5,C=-1;function M(){return!(e.unstable_now()-C<O)}function te(){if(E!==null){var N=e.unstable_now();C=N;var A=!0;try{A=E(!0,N)}finally{A?ae():(S=!1,E=null)}}else S=!1}var ae;if(typeof p=="function")ae=function(){p(te)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,T=pe.port2;pe.port1.onmessage=te,ae=function(){T.postMessage(null)}}else ae=function(){k(te,0)};function z(N){E=N,S||(S=!0,ae())}function B(N,A){b=k(function(){N(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){v||y||(v=!0,z(_))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(N){switch(f){case 1:case 2:case 3:var A=3;break;default:A=f}var R=f;f=A;try{return N()}finally{f=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,A){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var R=f;f=N;try{return A()}finally{f=R}},e.unstable_scheduleCallback=function(N,A,R){var Z=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?Z+R:Z):R=Z,N){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=R+oe,N={id:d++,callback:A,priorityLevel:N,startTime:R,expirationTime:oe,sortIndex:-1},R>Z?(N.sortIndex=R,t(c,N),r(u)===null&&N===r(c)&&(x?(g(b),b=-1):x=!0,B(w,R-Z))):(N.sortIndex=oe,t(u,N),v||y||(v=!0,z(_))),N},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(N){var A=f;return function(){var R=f;f=A;try{return N.apply(this,arguments)}finally{f=R}}}})(dc);cc.exports=dc;var df=cc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hf=I,$e=df;function j(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hc=new Set,jn={};function lr(e,t){Lr(e,t),Lr(e+"Capture",t)}function Lr(e,t){for(jn[e]=t,e=0;e<t.length;e++)hc.add(t[e])}var ht=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ha=Object.prototype.hasOwnProperty,ff=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bl={},jl={};function pf(e){return ha.call(jl,e)?!0:ha.call(bl,e)?!1:ff.test(e)?jl[e]=!0:(bl[e]=!0,!1)}function mf(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function gf(e,t,r,n){if(t===null||typeof t>"u"||mf(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function be(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){fe[e]=new be(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];fe[t]=new be(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){fe[e]=new be(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){fe[e]=new be(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){fe[e]=new be(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){fe[e]=new be(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){fe[e]=new be(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){fe[e]=new be(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){fe[e]=new be(e,5,!1,e.toLowerCase(),null,!1,!1)});var _o=/[\-:]([a-z])/g;function bo(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_o,bo);fe[t]=new be(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_o,bo);fe[t]=new be(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_o,bo);fe[t]=new be(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){fe[e]=new be(e,1,!1,e.toLowerCase(),null,!1,!1)});fe.xlinkHref=new be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){fe[e]=new be(e,1,!1,e.toLowerCase(),null,!0,!0)});function jo(e,t,r,n){var s=fe.hasOwnProperty(t)?fe[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(gf(t,r,s,n)&&(r=null),n||s===null?pf(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var yt=hf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,es=Symbol.for("react.element"),yr=Symbol.for("react.portal"),vr=Symbol.for("react.fragment"),So=Symbol.for("react.strict_mode"),fa=Symbol.for("react.profiler"),fc=Symbol.for("react.provider"),pc=Symbol.for("react.context"),No=Symbol.for("react.forward_ref"),pa=Symbol.for("react.suspense"),ma=Symbol.for("react.suspense_list"),Eo=Symbol.for("react.memo"),kt=Symbol.for("react.lazy"),mc=Symbol.for("react.offscreen"),Sl=Symbol.iterator;function Jr(e){return e===null||typeof e!="object"?null:(e=Sl&&e[Sl]||e["@@iterator"],typeof e=="function"?e:null)}var Y=Object.assign,Ri;function an(e){if(Ri===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ri=t&&t[1]||""}return`
`+Ri+e}var $i=!1;function Li(e,t){if(!e||$i)return"";$i=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var u=`
`+s[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=l);break}}}finally{$i=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?an(e):""}function yf(e){switch(e.tag){case 5:return an(e.type);case 16:return an("Lazy");case 13:return an("Suspense");case 19:return an("SuspenseList");case 0:case 2:case 15:return e=Li(e.type,!1),e;case 11:return e=Li(e.type.render,!1),e;case 1:return e=Li(e.type,!0),e;default:return""}}function ga(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case vr:return"Fragment";case yr:return"Portal";case fa:return"Profiler";case So:return"StrictMode";case pa:return"Suspense";case ma:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case pc:return(e.displayName||"Context")+".Consumer";case fc:return(e._context.displayName||"Context")+".Provider";case No:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Eo:return t=e.displayName||null,t!==null?t:ga(e.type)||"Memo";case kt:t=e._payload,e=e._init;try{return ga(e(t))}catch{}}return null}function vf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ga(t);case 8:return t===So?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Dt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function gc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function xf(e){var t=gc(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ts(e){e._valueTracker||(e._valueTracker=xf(e))}function yc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=gc(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Is(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ya(e,t){var r=t.checked;return Y({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Nl(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Dt(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function vc(e,t){t=t.checked,t!=null&&jo(e,"checked",t,!1)}function va(e,t){vc(e,t);var r=Dt(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xa(e,t.type,r):t.hasOwnProperty("defaultValue")&&xa(e,t.type,Dt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function El(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function xa(e,t,r){(t!=="number"||Is(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var on=Array.isArray;function Pr(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Dt(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function wa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(j(91));return Y({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Cl(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(j(92));if(on(r)){if(1<r.length)throw Error(j(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Dt(r)}}function xc(e,t){var r=Dt(t.value),n=Dt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Pl(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function wc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ka(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?wc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var rs,kc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(rs=rs||document.createElement("div"),rs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=rs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Sn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var dn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wf=["Webkit","ms","Moz","O"];Object.keys(dn).forEach(function(e){wf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),dn[t]=dn[e]})});function _c(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||dn.hasOwnProperty(e)&&dn[e]?(""+t).trim():t+"px"}function bc(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=_c(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var kf=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _a(e,t){if(t){if(kf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(j(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(j(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(j(61))}if(t.style!=null&&typeof t.style!="object")throw Error(j(62))}}function ba(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ja=null;function Co(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Sa=null,Tr=null,Or=null;function Tl(e){if(e=Wn(e)){if(typeof Sa!="function")throw Error(j(280));var t=e.stateNode;t&&(t=pi(t),Sa(e.stateNode,e.type,t))}}function jc(e){Tr?Or?Or.push(e):Or=[e]:Tr=e}function Sc(){if(Tr){var e=Tr,t=Or;if(Or=Tr=null,Tl(e),t)for(e=0;e<t.length;e++)Tl(t[e])}}function Nc(e,t){return e(t)}function Ec(){}var Di=!1;function Cc(e,t,r){if(Di)return e(t,r);Di=!0;try{return Nc(e,t,r)}finally{Di=!1,(Tr!==null||Or!==null)&&(Ec(),Sc())}}function Nn(e,t){var r=e.stateNode;if(r===null)return null;var n=pi(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(j(231,t,typeof r));return r}var Na=!1;if(ht)try{var Yr={};Object.defineProperty(Yr,"passive",{get:function(){Na=!0}}),window.addEventListener("test",Yr,Yr),window.removeEventListener("test",Yr,Yr)}catch{Na=!1}function _f(e,t,r,n,s,i,a,l,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var hn=!1,Rs=null,$s=!1,Ea=null,bf={onError:function(e){hn=!0,Rs=e}};function jf(e,t,r,n,s,i,a,l,u){hn=!1,Rs=null,_f.apply(bf,arguments)}function Sf(e,t,r,n,s,i,a,l,u){if(jf.apply(this,arguments),hn){if(hn){var c=Rs;hn=!1,Rs=null}else throw Error(j(198));$s||($s=!0,Ea=c)}}function ur(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Pc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ol(e){if(ur(e)!==e)throw Error(j(188))}function Nf(e){var t=e.alternate;if(!t){if(t=ur(e),t===null)throw Error(j(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Ol(s),e;if(i===n)return Ol(s),t;i=i.sibling}throw Error(j(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a)throw Error(j(189))}}if(r.alternate!==n)throw Error(j(190))}if(r.tag!==3)throw Error(j(188));return r.stateNode.current===r?e:t}function Tc(e){return e=Nf(e),e!==null?Oc(e):null}function Oc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Oc(e);if(t!==null)return t;e=e.sibling}return null}var Ac=$e.unstable_scheduleCallback,Al=$e.unstable_cancelCallback,Ef=$e.unstable_shouldYield,Cf=$e.unstable_requestPaint,ee=$e.unstable_now,Pf=$e.unstable_getCurrentPriorityLevel,Po=$e.unstable_ImmediatePriority,Ic=$e.unstable_UserBlockingPriority,Ls=$e.unstable_NormalPriority,Tf=$e.unstable_LowPriority,Rc=$e.unstable_IdlePriority,ci=null,nt=null;function Of(e){if(nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(ci,e,void 0,(e.current.flags&128)===128)}catch{}}var Ye=Math.clz32?Math.clz32:Rf,Af=Math.log,If=Math.LN2;function Rf(e){return e>>>=0,e===0?32:31-(Af(e)/If|0)|0}var ns=64,ss=4194304;function ln(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ds(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=ln(l):(i&=a,i!==0&&(n=ln(i)))}else a=r&~s,a!==0?n=ln(a):i!==0&&(n=ln(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ye(t),s=1<<r,n|=e[r],t&=~s;return n}function $f(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lf(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Ye(i),l=1<<a,u=s[a];u===-1?(!(l&r)||l&n)&&(s[a]=$f(l,t)):u<=t&&(e.expiredLanes|=l),i&=~l}}function Ca(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function $c(){var e=ns;return ns<<=1,!(ns&4194240)&&(ns=64),e}function Ui(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Vn(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ye(t),e[t]=r}function Df(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Ye(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function To(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ye(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var V=0;function Lc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Dc,Oo,Uc,Mc,zc,Pa=!1,is=[],Pt=null,Tt=null,Ot=null,En=new Map,Cn=new Map,jt=[],Uf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Il(e,t){switch(e){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":En.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cn.delete(t.pointerId)}}function Xr(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Wn(t),t!==null&&Oo(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Mf(e,t,r,n,s){switch(t){case"focusin":return Pt=Xr(Pt,e,t,r,n,s),!0;case"dragenter":return Tt=Xr(Tt,e,t,r,n,s),!0;case"mouseover":return Ot=Xr(Ot,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return En.set(i,Xr(En.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Cn.set(i,Xr(Cn.get(i)||null,e,t,r,n,s)),!0}return!1}function Fc(e){var t=Xt(e.target);if(t!==null){var r=ur(t);if(r!==null){if(t=r.tag,t===13){if(t=Pc(r),t!==null){e.blockedOn=t,zc(e.priority,function(){Uc(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ta(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);ja=n,r.target.dispatchEvent(n),ja=null}else return t=Wn(r),t!==null&&Oo(t),e.blockedOn=r,!1;t.shift()}return!0}function Rl(e,t,r){bs(e)&&r.delete(t)}function zf(){Pa=!1,Pt!==null&&bs(Pt)&&(Pt=null),Tt!==null&&bs(Tt)&&(Tt=null),Ot!==null&&bs(Ot)&&(Ot=null),En.forEach(Rl),Cn.forEach(Rl)}function Zr(e,t){e.blockedOn===t&&(e.blockedOn=null,Pa||(Pa=!0,$e.unstable_scheduleCallback($e.unstable_NormalPriority,zf)))}function Pn(e){function t(s){return Zr(s,e)}if(0<is.length){Zr(is[0],e);for(var r=1;r<is.length;r++){var n=is[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Pt!==null&&Zr(Pt,e),Tt!==null&&Zr(Tt,e),Ot!==null&&Zr(Ot,e),En.forEach(t),Cn.forEach(t),r=0;r<jt.length;r++)n=jt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<jt.length&&(r=jt[0],r.blockedOn===null);)Fc(r),r.blockedOn===null&&jt.shift()}var Ar=yt.ReactCurrentBatchConfig,Us=!0;function Ff(e,t,r,n){var s=V,i=Ar.transition;Ar.transition=null;try{V=1,Ao(e,t,r,n)}finally{V=s,Ar.transition=i}}function Bf(e,t,r,n){var s=V,i=Ar.transition;Ar.transition=null;try{V=4,Ao(e,t,r,n)}finally{V=s,Ar.transition=i}}function Ao(e,t,r,n){if(Us){var s=Ta(e,t,r,n);if(s===null)Gi(e,t,n,Ms,r),Il(e,n);else if(Mf(s,e,t,r,n))n.stopPropagation();else if(Il(e,n),t&4&&-1<Uf.indexOf(e)){for(;s!==null;){var i=Wn(s);if(i!==null&&Dc(i),i=Ta(e,t,r,n),i===null&&Gi(e,t,n,Ms,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Gi(e,t,n,null,r)}}var Ms=null;function Ta(e,t,r,n){if(Ms=null,e=Co(n),e=Xt(e),e!==null)if(t=ur(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Pc(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ms=e,null}function Bc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pf()){case Po:return 1;case Ic:return 4;case Ls:case Tf:return 16;case Rc:return 536870912;default:return 16}default:return 16}}var Et=null,Io=null,js=null;function Vc(){if(js)return js;var e,t=Io,r=t.length,n,s="value"in Et?Et.value:Et.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return js=s.slice(e,1<n?1-n:void 0)}function Ss(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function as(){return!0}function $l(){return!1}function De(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?as:$l,this.isPropagationStopped=$l,this}return Y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=as)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=as)},persist:function(){},isPersistent:as}),t}var qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ro=De(qr),Hn=Y({},qr,{view:0,detail:0}),Vf=De(Hn),Mi,zi,en,di=Y({},Hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$o,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&e.type==="mousemove"?(Mi=e.screenX-en.screenX,zi=e.screenY-en.screenY):zi=Mi=0,en=e),Mi)},movementY:function(e){return"movementY"in e?e.movementY:zi}}),Ll=De(di),Hf=Y({},di,{dataTransfer:0}),Wf=De(Hf),qf=Y({},Hn,{relatedTarget:0}),Fi=De(qf),Kf=Y({},qr,{animationName:0,elapsedTime:0,pseudoElement:0}),Gf=De(Kf),Qf=Y({},qr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jf=De(Qf),Yf=Y({},qr,{data:0}),Dl=De(Yf),Xf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},e0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function t0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=e0[e])?!!t[e]:!1}function $o(){return t0}var r0=Y({},Hn,{key:function(e){if(e.key){var t=Xf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ss(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Zf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$o,charCode:function(e){return e.type==="keypress"?Ss(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ss(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),n0=De(r0),s0=Y({},di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ul=De(s0),i0=Y({},Hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$o}),a0=De(i0),o0=Y({},qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),l0=De(o0),u0=Y({},di,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),c0=De(u0),d0=[9,13,27,32],Lo=ht&&"CompositionEvent"in window,fn=null;ht&&"documentMode"in document&&(fn=document.documentMode);var h0=ht&&"TextEvent"in window&&!fn,Hc=ht&&(!Lo||fn&&8<fn&&11>=fn),Ml=" ",zl=!1;function Wc(e,t){switch(e){case"keyup":return d0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xr=!1;function f0(e,t){switch(e){case"compositionend":return qc(t);case"keypress":return t.which!==32?null:(zl=!0,Ml);case"textInput":return e=t.data,e===Ml&&zl?null:e;default:return null}}function p0(e,t){if(xr)return e==="compositionend"||!Lo&&Wc(e,t)?(e=Vc(),js=Io=Et=null,xr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Hc&&t.locale!=="ko"?null:t.data;default:return null}}var m0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!m0[e.type]:t==="textarea"}function Kc(e,t,r,n){jc(n),t=zs(t,"onChange"),0<t.length&&(r=new Ro("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var pn=null,Tn=null;function g0(e){sd(e,0)}function hi(e){var t=_r(e);if(yc(t))return e}function y0(e,t){if(e==="change")return t}var Gc=!1;if(ht){var Bi;if(ht){var Vi="oninput"in document;if(!Vi){var Bl=document.createElement("div");Bl.setAttribute("oninput","return;"),Vi=typeof Bl.oninput=="function"}Bi=Vi}else Bi=!1;Gc=Bi&&(!document.documentMode||9<document.documentMode)}function Vl(){pn&&(pn.detachEvent("onpropertychange",Qc),Tn=pn=null)}function Qc(e){if(e.propertyName==="value"&&hi(Tn)){var t=[];Kc(t,Tn,e,Co(e)),Cc(g0,t)}}function v0(e,t,r){e==="focusin"?(Vl(),pn=t,Tn=r,pn.attachEvent("onpropertychange",Qc)):e==="focusout"&&Vl()}function x0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hi(Tn)}function w0(e,t){if(e==="click")return hi(t)}function k0(e,t){if(e==="input"||e==="change")return hi(t)}function _0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ze=typeof Object.is=="function"?Object.is:_0;function On(e,t){if(Ze(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!ha.call(t,s)||!Ze(e[s],t[s]))return!1}return!0}function Hl(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wl(e,t){var r=Hl(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Hl(r)}}function Jc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Jc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Yc(){for(var e=window,t=Is();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Is(e.document)}return t}function Do(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function b0(e){var t=Yc(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Jc(r.ownerDocument.documentElement,r)){if(n!==null&&Do(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Wl(r,i);var a=Wl(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var j0=ht&&"documentMode"in document&&11>=document.documentMode,wr=null,Oa=null,mn=null,Aa=!1;function ql(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Aa||wr==null||wr!==Is(n)||(n=wr,"selectionStart"in n&&Do(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),mn&&On(mn,n)||(mn=n,n=zs(Oa,"onSelect"),0<n.length&&(t=new Ro("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=wr)))}function os(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var kr={animationend:os("Animation","AnimationEnd"),animationiteration:os("Animation","AnimationIteration"),animationstart:os("Animation","AnimationStart"),transitionend:os("Transition","TransitionEnd")},Hi={},Xc={};ht&&(Xc=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);function fi(e){if(Hi[e])return Hi[e];if(!kr[e])return e;var t=kr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Xc)return Hi[e]=t[r];return e}var Zc=fi("animationend"),ed=fi("animationiteration"),td=fi("animationstart"),rd=fi("transitionend"),nd=new Map,Kl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zt(e,t){nd.set(e,t),lr(t,[e])}for(var Wi=0;Wi<Kl.length;Wi++){var qi=Kl[Wi],S0=qi.toLowerCase(),N0=qi[0].toUpperCase()+qi.slice(1);zt(S0,"on"+N0)}zt(Zc,"onAnimationEnd");zt(ed,"onAnimationIteration");zt(td,"onAnimationStart");zt("dblclick","onDoubleClick");zt("focusin","onFocus");zt("focusout","onBlur");zt(rd,"onTransitionEnd");Lr("onMouseEnter",["mouseout","mouseover"]);Lr("onMouseLeave",["mouseout","mouseover"]);Lr("onPointerEnter",["pointerout","pointerover"]);Lr("onPointerLeave",["pointerout","pointerover"]);lr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));lr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));lr("onBeforeInput",["compositionend","keypress","textInput","paste"]);lr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));lr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));lr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var un="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E0=new Set("cancel close invalid load scroll toggle".split(" ").concat(un));function Gl(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Sf(n,t,void 0,e),e.currentTarget=null}function sd(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==i&&s.isPropagationStopped())break e;Gl(s,l,c),i=u}else for(a=0;a<n.length;a++){if(l=n[a],u=l.instance,c=l.currentTarget,l=l.listener,u!==i&&s.isPropagationStopped())break e;Gl(s,l,c),i=u}}}if($s)throw e=Ea,$s=!1,Ea=null,e}function q(e,t){var r=t[Da];r===void 0&&(r=t[Da]=new Set);var n=e+"__bubble";r.has(n)||(id(t,e,2,!1),r.add(n))}function Ki(e,t,r){var n=0;t&&(n|=4),id(r,e,n,t)}var ls="_reactListening"+Math.random().toString(36).slice(2);function An(e){if(!e[ls]){e[ls]=!0,hc.forEach(function(r){r!=="selectionchange"&&(E0.has(r)||Ki(r,!1,e),Ki(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ls]||(t[ls]=!0,Ki("selectionchange",!1,t))}}function id(e,t,r,n){switch(Bc(t)){case 1:var s=Ff;break;case 4:s=Bf;break;default:s=Ao}r=s.bind(null,t,r,e),s=void 0,!Na||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Gi(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Xt(l),a===null)return;if(u=a.tag,u===5||u===6){n=i=a;continue e}l=l.parentNode}}n=n.return}Cc(function(){var c=i,d=Co(r),h=[];e:{var f=nd.get(e);if(f!==void 0){var y=Ro,v=e;switch(e){case"keypress":if(Ss(r)===0)break e;case"keydown":case"keyup":y=n0;break;case"focusin":v="focus",y=Fi;break;case"focusout":v="blur",y=Fi;break;case"beforeblur":case"afterblur":y=Fi;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Wf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=a0;break;case Zc:case ed:case td:y=Gf;break;case rd:y=l0;break;case"scroll":y=Vf;break;case"wheel":y=c0;break;case"copy":case"cut":case"paste":y=Jf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Ul}var x=(t&4)!==0,k=!x&&e==="scroll",g=x?f!==null?f+"Capture":null:f;x=[];for(var p=c,m;p!==null;){m=p;var w=m.stateNode;if(m.tag===5&&w!==null&&(m=w,g!==null&&(w=Nn(p,g),w!=null&&x.push(In(p,w,m)))),k)break;p=p.return}0<x.length&&(f=new y(f,v,null,r,d),h.push({event:f,listeners:x}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",f&&r!==ja&&(v=r.relatedTarget||r.fromElement)&&(Xt(v)||v[ft]))break e;if((y||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,y?(v=r.relatedTarget||r.toElement,y=c,v=v?Xt(v):null,v!==null&&(k=ur(v),v!==k||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=c),y!==v)){if(x=Ll,w="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(x=Ul,w="onPointerLeave",g="onPointerEnter",p="pointer"),k=y==null?f:_r(y),m=v==null?f:_r(v),f=new x(w,p+"leave",y,r,d),f.target=k,f.relatedTarget=m,w=null,Xt(d)===c&&(x=new x(g,p+"enter",v,r,d),x.target=m,x.relatedTarget=k,w=x),k=w,y&&v)t:{for(x=y,g=v,p=0,m=x;m;m=dr(m))p++;for(m=0,w=g;w;w=dr(w))m++;for(;0<p-m;)x=dr(x),p--;for(;0<m-p;)g=dr(g),m--;for(;p--;){if(x===g||g!==null&&x===g.alternate)break t;x=dr(x),g=dr(g)}x=null}else x=null;y!==null&&Ql(h,f,y,x,!1),v!==null&&k!==null&&Ql(h,k,v,x,!0)}}e:{if(f=c?_r(c):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var _=y0;else if(Fl(f))if(Gc)_=k0;else{_=x0;var S=v0}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=w0);if(_&&(_=_(e,c))){Kc(h,_,r,d);break e}S&&S(e,f,c),e==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&xa(f,"number",f.value)}switch(S=c?_r(c):window,e){case"focusin":(Fl(S)||S.contentEditable==="true")&&(wr=S,Oa=c,mn=null);break;case"focusout":mn=Oa=wr=null;break;case"mousedown":Aa=!0;break;case"contextmenu":case"mouseup":case"dragend":Aa=!1,ql(h,r,d);break;case"selectionchange":if(j0)break;case"keydown":case"keyup":ql(h,r,d)}var E;if(Lo)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else xr?Wc(e,r)&&(b="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(b="onCompositionStart");b&&(Hc&&r.locale!=="ko"&&(xr||b!=="onCompositionStart"?b==="onCompositionEnd"&&xr&&(E=Vc()):(Et=d,Io="value"in Et?Et.value:Et.textContent,xr=!0)),S=zs(c,b),0<S.length&&(b=new Dl(b,e,null,r,d),h.push({event:b,listeners:S}),E?b.data=E:(E=qc(r),E!==null&&(b.data=E)))),(E=h0?f0(e,r):p0(e,r))&&(c=zs(c,"onBeforeInput"),0<c.length&&(d=new Dl("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=E))}sd(h,t)})}function In(e,t,r){return{instance:e,listener:t,currentTarget:r}}function zs(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Nn(e,r),i!=null&&n.unshift(In(e,i,s)),i=Nn(e,t),i!=null&&n.push(In(e,i,s))),e=e.return}return n}function dr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ql(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var l=r,u=l.alternate,c=l.stateNode;if(u!==null&&u===n)break;l.tag===5&&c!==null&&(l=c,s?(u=Nn(r,i),u!=null&&a.unshift(In(r,u,l))):s||(u=Nn(r,i),u!=null&&a.push(In(r,u,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var C0=/\r\n?/g,P0=/\u0000|\uFFFD/g;function Jl(e){return(typeof e=="string"?e:""+e).replace(C0,`
`).replace(P0,"")}function us(e,t,r){if(t=Jl(t),Jl(e)!==t&&r)throw Error(j(425))}function Fs(){}var Ia=null,Ra=null;function $a(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var La=typeof setTimeout=="function"?setTimeout:void 0,T0=typeof clearTimeout=="function"?clearTimeout:void 0,Yl=typeof Promise=="function"?Promise:void 0,O0=typeof queueMicrotask=="function"?queueMicrotask:typeof Yl<"u"?function(e){return Yl.resolve(null).then(e).catch(A0)}:La;function A0(e){setTimeout(function(){throw e})}function Qi(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Pn(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Pn(t)}function At(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Xl(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Kr=Math.random().toString(36).slice(2),rt="__reactFiber$"+Kr,Rn="__reactProps$"+Kr,ft="__reactContainer$"+Kr,Da="__reactEvents$"+Kr,I0="__reactListeners$"+Kr,R0="__reactHandles$"+Kr;function Xt(e){var t=e[rt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ft]||r[rt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Xl(e);e!==null;){if(r=e[rt])return r;e=Xl(e)}return t}e=r,r=e.parentNode}return null}function Wn(e){return e=e[rt]||e[ft],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _r(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(j(33))}function pi(e){return e[Rn]||null}var Ua=[],br=-1;function Ft(e){return{current:e}}function K(e){0>br||(e.current=Ua[br],Ua[br]=null,br--)}function W(e,t){br++,Ua[br]=e.current,e.current=t}var Ut={},xe=Ft(Ut),Ce=Ft(!1),nr=Ut;function Dr(e,t){var r=e.type.contextTypes;if(!r)return Ut;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pe(e){return e=e.childContextTypes,e!=null}function Bs(){K(Ce),K(xe)}function Zl(e,t,r){if(xe.current!==Ut)throw Error(j(168));W(xe,t),W(Ce,r)}function ad(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(j(108,vf(e)||"Unknown",s));return Y({},r,n)}function Vs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ut,nr=xe.current,W(xe,e),W(Ce,Ce.current),!0}function eu(e,t,r){var n=e.stateNode;if(!n)throw Error(j(169));r?(e=ad(e,t,nr),n.__reactInternalMemoizedMergedChildContext=e,K(Ce),K(xe),W(xe,e)):K(Ce),W(Ce,r)}var lt=null,mi=!1,Ji=!1;function od(e){lt===null?lt=[e]:lt.push(e)}function $0(e){mi=!0,od(e)}function Bt(){if(!Ji&&lt!==null){Ji=!0;var e=0,t=V;try{var r=lt;for(V=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}lt=null,mi=!1}catch(s){throw lt!==null&&(lt=lt.slice(e+1)),Ac(Po,Bt),s}finally{V=t,Ji=!1}}return null}var jr=[],Sr=0,Hs=null,Ws=0,Ue=[],Me=0,sr=null,ut=1,ct="";function Gt(e,t){jr[Sr++]=Ws,jr[Sr++]=Hs,Hs=e,Ws=t}function ld(e,t,r){Ue[Me++]=ut,Ue[Me++]=ct,Ue[Me++]=sr,sr=e;var n=ut;e=ct;var s=32-Ye(n)-1;n&=~(1<<s),r+=1;var i=32-Ye(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,ut=1<<32-Ye(t)+s|r<<s|n,ct=i+e}else ut=1<<i|r<<s|n,ct=e}function Uo(e){e.return!==null&&(Gt(e,1),ld(e,1,0))}function Mo(e){for(;e===Hs;)Hs=jr[--Sr],jr[Sr]=null,Ws=jr[--Sr],jr[Sr]=null;for(;e===sr;)sr=Ue[--Me],Ue[Me]=null,ct=Ue[--Me],Ue[Me]=null,ut=Ue[--Me],Ue[Me]=null}var Ie=null,Ae=null,G=!1,Je=null;function ud(e,t){var r=ze(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function tu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ie=e,Ae=At(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ie=e,Ae=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=sr!==null?{id:ut,overflow:ct}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ze(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ie=e,Ae=null,!0):!1;default:return!1}}function Ma(e){return(e.mode&1)!==0&&(e.flags&128)===0}function za(e){if(G){var t=Ae;if(t){var r=t;if(!tu(e,t)){if(Ma(e))throw Error(j(418));t=At(r.nextSibling);var n=Ie;t&&tu(e,t)?ud(n,r):(e.flags=e.flags&-4097|2,G=!1,Ie=e)}}else{if(Ma(e))throw Error(j(418));e.flags=e.flags&-4097|2,G=!1,Ie=e}}}function ru(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ie=e}function cs(e){if(e!==Ie)return!1;if(!G)return ru(e),G=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$a(e.type,e.memoizedProps)),t&&(t=Ae)){if(Ma(e))throw cd(),Error(j(418));for(;t;)ud(e,t),t=At(t.nextSibling)}if(ru(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(j(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ae=At(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ae=null}}else Ae=Ie?At(e.stateNode.nextSibling):null;return!0}function cd(){for(var e=Ae;e;)e=At(e.nextSibling)}function Ur(){Ae=Ie=null,G=!1}function zo(e){Je===null?Je=[e]:Je.push(e)}var L0=yt.ReactCurrentBatchConfig;function tn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(j(309));var n=r.stateNode}if(!n)throw Error(j(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(j(284));if(!r._owner)throw Error(j(290,e))}return e}function ds(e,t){throw e=Object.prototype.toString.call(t),Error(j(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function nu(e){var t=e._init;return t(e._payload)}function dd(e){function t(g,p){if(e){var m=g.deletions;m===null?(g.deletions=[p],g.flags|=16):m.push(p)}}function r(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function n(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=Lt(g,p),g.index=0,g.sibling=null,g}function i(g,p,m){return g.index=m,e?(m=g.alternate,m!==null?(m=m.index,m<p?(g.flags|=2,p):m):(g.flags|=2,p)):(g.flags|=1048576,p)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,p,m,w){return p===null||p.tag!==6?(p=na(m,g.mode,w),p.return=g,p):(p=s(p,m),p.return=g,p)}function u(g,p,m,w){var _=m.type;return _===vr?d(g,p,m.props.children,w,m.key):p!==null&&(p.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===kt&&nu(_)===p.type)?(w=s(p,m.props),w.ref=tn(g,p,m),w.return=g,w):(w=As(m.type,m.key,m.props,null,g.mode,w),w.ref=tn(g,p,m),w.return=g,w)}function c(g,p,m,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=sa(m,g.mode,w),p.return=g,p):(p=s(p,m.children||[]),p.return=g,p)}function d(g,p,m,w,_){return p===null||p.tag!==7?(p=rr(m,g.mode,w,_),p.return=g,p):(p=s(p,m),p.return=g,p)}function h(g,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=na(""+p,g.mode,m),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case es:return m=As(p.type,p.key,p.props,null,g.mode,m),m.ref=tn(g,null,p),m.return=g,m;case yr:return p=sa(p,g.mode,m),p.return=g,p;case kt:var w=p._init;return h(g,w(p._payload),m)}if(on(p)||Jr(p))return p=rr(p,g.mode,m,null),p.return=g,p;ds(g,p)}return null}function f(g,p,m,w){var _=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return _!==null?null:l(g,p,""+m,w);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case es:return m.key===_?u(g,p,m,w):null;case yr:return m.key===_?c(g,p,m,w):null;case kt:return _=m._init,f(g,p,_(m._payload),w)}if(on(m)||Jr(m))return _!==null?null:d(g,p,m,w,null);ds(g,m)}return null}function y(g,p,m,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(m)||null,l(p,g,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case es:return g=g.get(w.key===null?m:w.key)||null,u(p,g,w,_);case yr:return g=g.get(w.key===null?m:w.key)||null,c(p,g,w,_);case kt:var S=w._init;return y(g,p,m,S(w._payload),_)}if(on(w)||Jr(w))return g=g.get(m)||null,d(p,g,w,_,null);ds(p,w)}return null}function v(g,p,m,w){for(var _=null,S=null,E=p,b=p=0,O=null;E!==null&&b<m.length;b++){E.index>b?(O=E,E=null):O=E.sibling;var C=f(g,E,m[b],w);if(C===null){E===null&&(E=O);break}e&&E&&C.alternate===null&&t(g,E),p=i(C,p,b),S===null?_=C:S.sibling=C,S=C,E=O}if(b===m.length)return r(g,E),G&&Gt(g,b),_;if(E===null){for(;b<m.length;b++)E=h(g,m[b],w),E!==null&&(p=i(E,p,b),S===null?_=E:S.sibling=E,S=E);return G&&Gt(g,b),_}for(E=n(g,E);b<m.length;b++)O=y(E,g,b,m[b],w),O!==null&&(e&&O.alternate!==null&&E.delete(O.key===null?b:O.key),p=i(O,p,b),S===null?_=O:S.sibling=O,S=O);return e&&E.forEach(function(M){return t(g,M)}),G&&Gt(g,b),_}function x(g,p,m,w){var _=Jr(m);if(typeof _!="function")throw Error(j(150));if(m=_.call(m),m==null)throw Error(j(151));for(var S=_=null,E=p,b=p=0,O=null,C=m.next();E!==null&&!C.done;b++,C=m.next()){E.index>b?(O=E,E=null):O=E.sibling;var M=f(g,E,C.value,w);if(M===null){E===null&&(E=O);break}e&&E&&M.alternate===null&&t(g,E),p=i(M,p,b),S===null?_=M:S.sibling=M,S=M,E=O}if(C.done)return r(g,E),G&&Gt(g,b),_;if(E===null){for(;!C.done;b++,C=m.next())C=h(g,C.value,w),C!==null&&(p=i(C,p,b),S===null?_=C:S.sibling=C,S=C);return G&&Gt(g,b),_}for(E=n(g,E);!C.done;b++,C=m.next())C=y(E,g,b,C.value,w),C!==null&&(e&&C.alternate!==null&&E.delete(C.key===null?b:C.key),p=i(C,p,b),S===null?_=C:S.sibling=C,S=C);return e&&E.forEach(function(te){return t(g,te)}),G&&Gt(g,b),_}function k(g,p,m,w){if(typeof m=="object"&&m!==null&&m.type===vr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case es:e:{for(var _=m.key,S=p;S!==null;){if(S.key===_){if(_=m.type,_===vr){if(S.tag===7){r(g,S.sibling),p=s(S,m.props.children),p.return=g,g=p;break e}}else if(S.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===kt&&nu(_)===S.type){r(g,S.sibling),p=s(S,m.props),p.ref=tn(g,S,m),p.return=g,g=p;break e}r(g,S);break}else t(g,S);S=S.sibling}m.type===vr?(p=rr(m.props.children,g.mode,w,m.key),p.return=g,g=p):(w=As(m.type,m.key,m.props,null,g.mode,w),w.ref=tn(g,p,m),w.return=g,g=w)}return a(g);case yr:e:{for(S=m.key;p!==null;){if(p.key===S)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){r(g,p.sibling),p=s(p,m.children||[]),p.return=g,g=p;break e}else{r(g,p);break}else t(g,p);p=p.sibling}p=sa(m,g.mode,w),p.return=g,g=p}return a(g);case kt:return S=m._init,k(g,p,S(m._payload),w)}if(on(m))return v(g,p,m,w);if(Jr(m))return x(g,p,m,w);ds(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(r(g,p.sibling),p=s(p,m),p.return=g,g=p):(r(g,p),p=na(m,g.mode,w),p.return=g,g=p),a(g)):r(g,p)}return k}var Mr=dd(!0),hd=dd(!1),qs=Ft(null),Ks=null,Nr=null,Fo=null;function Bo(){Fo=Nr=Ks=null}function Vo(e){var t=qs.current;K(qs),e._currentValue=t}function Fa(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ir(e,t){Ks=e,Fo=Nr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ee=!0),e.firstContext=null)}function Ve(e){var t=e._currentValue;if(Fo!==e)if(e={context:e,memoizedValue:t,next:null},Nr===null){if(Ks===null)throw Error(j(308));Nr=e,Ks.dependencies={lanes:0,firstContext:e}}else Nr=Nr.next=e;return t}var Zt=null;function Ho(e){Zt===null?Zt=[e]:Zt.push(e)}function fd(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Ho(t)):(r.next=s.next,s.next=r),t.interleaved=r,pt(e,n)}function pt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var _t=!1;function Wo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function dt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function It(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,F&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,pt(e,r)}return s=n.interleaved,s===null?(t.next=t,Ho(n)):(t.next=s.next,s.next=t),n.interleaved=t,pt(e,r)}function Ns(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,To(e,r)}}function su(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Gs(e,t,r,n){var s=e.updateQueue;_t=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,c=u.next;u.next=null,a===null?i=c:a.next=c,a=u;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(i!==null){var h=s.baseState;a=0,d=c=u=null,l=i;do{var f=l.lane,y=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,x=l;switch(f=t,y=r,x.tag){case 1:if(v=x.payload,typeof v=="function"){h=v.call(y,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,f=typeof v=="function"?v.call(y,h,f):v,f==null)break e;h=Y({},h,f);break e;case 2:_t=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else y={eventTime:y,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=y,u=h):d=d.next=y,a|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(u=h),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);ar|=a,e.lanes=a,e.memoizedState=h}}function iu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(j(191,s));s.call(n)}}}var qn={},st=Ft(qn),$n=Ft(qn),Ln=Ft(qn);function er(e){if(e===qn)throw Error(j(174));return e}function qo(e,t){switch(W(Ln,t),W($n,e),W(st,qn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ka(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ka(t,e)}K(st),W(st,t)}function zr(){K(st),K($n),K(Ln)}function md(e){er(Ln.current);var t=er(st.current),r=ka(t,e.type);t!==r&&(W($n,e),W(st,r))}function Ko(e){$n.current===e&&(K(st),K($n))}var Q=Ft(0);function Qs(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Yi=[];function Go(){for(var e=0;e<Yi.length;e++)Yi[e]._workInProgressVersionPrimary=null;Yi.length=0}var Es=yt.ReactCurrentDispatcher,Xi=yt.ReactCurrentBatchConfig,ir=0,J=null,se=null,ue=null,Js=!1,gn=!1,Dn=0,D0=0;function me(){throw Error(j(321))}function Qo(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ze(e[r],t[r]))return!1;return!0}function Jo(e,t,r,n,s,i){if(ir=i,J=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Es.current=e===null||e.memoizedState===null?F0:B0,e=r(n,s),gn){i=0;do{if(gn=!1,Dn=0,25<=i)throw Error(j(301));i+=1,ue=se=null,t.updateQueue=null,Es.current=V0,e=r(n,s)}while(gn)}if(Es.current=Ys,t=se!==null&&se.next!==null,ir=0,ue=se=J=null,Js=!1,t)throw Error(j(300));return e}function Yo(){var e=Dn!==0;return Dn=0,e}function tt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ue===null?J.memoizedState=ue=e:ue=ue.next=e,ue}function He(){if(se===null){var e=J.alternate;e=e!==null?e.memoizedState:null}else e=se.next;var t=ue===null?J.memoizedState:ue.next;if(t!==null)ue=t,se=e;else{if(e===null)throw Error(j(310));se=e,e={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},ue===null?J.memoizedState=ue=e:ue=ue.next=e}return ue}function Un(e,t){return typeof t=="function"?t(e):t}function Zi(e){var t=He(),r=t.queue;if(r===null)throw Error(j(311));r.lastRenderedReducer=e;var n=se,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=a=null,u=null,c=i;do{var d=c.lane;if((ir&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=h,a=n):u=u.next=h,J.lanes|=d,ar|=d}c=c.next}while(c!==null&&c!==i);u===null?a=n:u.next=l,Ze(n,t.memoizedState)||(Ee=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,J.lanes|=i,ar|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ea(e){var t=He(),r=t.queue;if(r===null)throw Error(j(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);Ze(i,t.memoizedState)||(Ee=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function gd(){}function yd(e,t){var r=J,n=He(),s=t(),i=!Ze(n.memoizedState,s);if(i&&(n.memoizedState=s,Ee=!0),n=n.queue,Xo(wd.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ue!==null&&ue.memoizedState.tag&1){if(r.flags|=2048,Mn(9,xd.bind(null,r,n,s,t),void 0,null),ce===null)throw Error(j(349));ir&30||vd(r,t,s)}return s}function vd(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=J.updateQueue,t===null?(t={lastEffect:null,stores:null},J.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function xd(e,t,r,n){t.value=r,t.getSnapshot=n,kd(t)&&_d(e)}function wd(e,t,r){return r(function(){kd(t)&&_d(e)})}function kd(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ze(e,r)}catch{return!0}}function _d(e){var t=pt(e,1);t!==null&&Xe(t,e,1,-1)}function au(e){var t=tt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Un,lastRenderedState:e},t.queue=e,e=e.dispatch=z0.bind(null,J,e),[t.memoizedState,e]}function Mn(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=J.updateQueue,t===null?(t={lastEffect:null,stores:null},J.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function bd(){return He().memoizedState}function Cs(e,t,r,n){var s=tt();J.flags|=e,s.memoizedState=Mn(1|t,r,void 0,n===void 0?null:n)}function gi(e,t,r,n){var s=He();n=n===void 0?null:n;var i=void 0;if(se!==null){var a=se.memoizedState;if(i=a.destroy,n!==null&&Qo(n,a.deps)){s.memoizedState=Mn(t,r,i,n);return}}J.flags|=e,s.memoizedState=Mn(1|t,r,i,n)}function ou(e,t){return Cs(8390656,8,e,t)}function Xo(e,t){return gi(2048,8,e,t)}function jd(e,t){return gi(4,2,e,t)}function Sd(e,t){return gi(4,4,e,t)}function Nd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ed(e,t,r){return r=r!=null?r.concat([e]):null,gi(4,4,Nd.bind(null,t,e),r)}function Zo(){}function Cd(e,t){var r=He();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Qo(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Pd(e,t){var r=He();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Qo(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Td(e,t,r){return ir&21?(Ze(r,t)||(r=$c(),J.lanes|=r,ar|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ee=!0),e.memoizedState=r)}function U0(e,t){var r=V;V=r!==0&&4>r?r:4,e(!0);var n=Xi.transition;Xi.transition={};try{e(!1),t()}finally{V=r,Xi.transition=n}}function Od(){return He().memoizedState}function M0(e,t,r){var n=$t(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Ad(e))Id(t,r);else if(r=fd(e,t,r,n),r!==null){var s=ke();Xe(r,e,n,s),Rd(r,t,n)}}function z0(e,t,r){var n=$t(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ad(e))Id(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,r);if(s.hasEagerState=!0,s.eagerState=l,Ze(l,a)){var u=t.interleaved;u===null?(s.next=s,Ho(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}r=fd(e,t,s,n),r!==null&&(s=ke(),Xe(r,e,n,s),Rd(r,t,n))}}function Ad(e){var t=e.alternate;return e===J||t!==null&&t===J}function Id(e,t){gn=Js=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Rd(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,To(e,r)}}var Ys={readContext:Ve,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useInsertionEffect:me,useLayoutEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useMutableSource:me,useSyncExternalStore:me,useId:me,unstable_isNewReconciler:!1},F0={readContext:Ve,useCallback:function(e,t){return tt().memoizedState=[e,t===void 0?null:t],e},useContext:Ve,useEffect:ou,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Cs(4194308,4,Nd.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Cs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Cs(4,2,e,t)},useMemo:function(e,t){var r=tt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=tt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=M0.bind(null,J,e),[n.memoizedState,e]},useRef:function(e){var t=tt();return e={current:e},t.memoizedState=e},useState:au,useDebugValue:Zo,useDeferredValue:function(e){return tt().memoizedState=e},useTransition:function(){var e=au(!1),t=e[0];return e=U0.bind(null,e[1]),tt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=J,s=tt();if(G){if(r===void 0)throw Error(j(407));r=r()}else{if(r=t(),ce===null)throw Error(j(349));ir&30||vd(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,ou(wd.bind(null,n,i,e),[e]),n.flags|=2048,Mn(9,xd.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=tt(),t=ce.identifierPrefix;if(G){var r=ct,n=ut;r=(n&~(1<<32-Ye(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Dn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=D0++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},B0={readContext:Ve,useCallback:Cd,useContext:Ve,useEffect:Xo,useImperativeHandle:Ed,useInsertionEffect:jd,useLayoutEffect:Sd,useMemo:Pd,useReducer:Zi,useRef:bd,useState:function(){return Zi(Un)},useDebugValue:Zo,useDeferredValue:function(e){var t=He();return Td(t,se.memoizedState,e)},useTransition:function(){var e=Zi(Un)[0],t=He().memoizedState;return[e,t]},useMutableSource:gd,useSyncExternalStore:yd,useId:Od,unstable_isNewReconciler:!1},V0={readContext:Ve,useCallback:Cd,useContext:Ve,useEffect:Xo,useImperativeHandle:Ed,useInsertionEffect:jd,useLayoutEffect:Sd,useMemo:Pd,useReducer:ea,useRef:bd,useState:function(){return ea(Un)},useDebugValue:Zo,useDeferredValue:function(e){var t=He();return se===null?t.memoizedState=e:Td(t,se.memoizedState,e)},useTransition:function(){var e=ea(Un)[0],t=He().memoizedState;return[e,t]},useMutableSource:gd,useSyncExternalStore:yd,useId:Od,unstable_isNewReconciler:!1};function Ke(e,t){if(e&&e.defaultProps){t=Y({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Ba(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Y({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var yi={isMounted:function(e){return(e=e._reactInternals)?ur(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ke(),s=$t(e),i=dt(n,s);i.payload=t,r!=null&&(i.callback=r),t=It(e,i,s),t!==null&&(Xe(t,e,s,n),Ns(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ke(),s=$t(e),i=dt(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=It(e,i,s),t!==null&&(Xe(t,e,s,n),Ns(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ke(),n=$t(e),s=dt(r,n);s.tag=2,t!=null&&(s.callback=t),t=It(e,s,n),t!==null&&(Xe(t,e,n,r),Ns(t,e,n))}};function lu(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!On(r,n)||!On(s,i):!0}function $d(e,t,r){var n=!1,s=Ut,i=t.contextType;return typeof i=="object"&&i!==null?i=Ve(i):(s=Pe(t)?nr:xe.current,n=t.contextTypes,i=(n=n!=null)?Dr(e,s):Ut),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=yi,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function uu(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&yi.enqueueReplaceState(t,t.state,null)}function Va(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Wo(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ve(i):(i=Pe(t)?nr:xe.current,s.context=Dr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Ba(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&yi.enqueueReplaceState(s,s.state,null),Gs(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Fr(e,t){try{var r="",n=t;do r+=yf(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function ta(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ha(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var H0=typeof WeakMap=="function"?WeakMap:Map;function Ld(e,t,r){r=dt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Zs||(Zs=!0,eo=n),Ha(e,t)},r}function Dd(e,t,r){r=dt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Ha(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Ha(e,t),typeof n!="function"&&(Rt===null?Rt=new Set([this]):Rt.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function cu(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new H0;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=sp.bind(null,e,t,r),t.then(e,e))}function du(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function hu(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=dt(-1,1),t.tag=2,It(r,t,1))),r.lanes|=1),e)}var W0=yt.ReactCurrentOwner,Ee=!1;function we(e,t,r,n){t.child=e===null?hd(t,null,r,n):Mr(t,e.child,r,n)}function fu(e,t,r,n,s){r=r.render;var i=t.ref;return Ir(t,s),n=Jo(e,t,r,n,i,s),r=Yo(),e!==null&&!Ee?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,mt(e,t,s)):(G&&r&&Uo(t),t.flags|=1,we(e,t,n,s),t.child)}function pu(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!ol(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Ud(e,t,i,n,s)):(e=As(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:On,r(a,n)&&e.ref===t.ref)return mt(e,t,s)}return t.flags|=1,e=Lt(i,n),e.ref=t.ref,e.return=t,t.child=e}function Ud(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(On(i,n)&&e.ref===t.ref)if(Ee=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Ee=!0);else return t.lanes=e.lanes,mt(e,t,s)}return Wa(e,t,r,n,s)}function Md(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},W(Cr,Oe),Oe|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,W(Cr,Oe),Oe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,W(Cr,Oe),Oe|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,W(Cr,Oe),Oe|=n;return we(e,t,s,r),t.child}function zd(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Wa(e,t,r,n,s){var i=Pe(r)?nr:xe.current;return i=Dr(t,i),Ir(t,s),r=Jo(e,t,r,n,i,s),n=Yo(),e!==null&&!Ee?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,mt(e,t,s)):(G&&n&&Uo(t),t.flags|=1,we(e,t,r,s),t.child)}function mu(e,t,r,n,s){if(Pe(r)){var i=!0;Vs(t)}else i=!1;if(Ir(t,s),t.stateNode===null)Ps(e,t),$d(t,r,n),Va(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var u=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=Ve(c):(c=Pe(r)?nr:xe.current,c=Dr(t,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||u!==c)&&uu(t,a,n,c),_t=!1;var f=t.memoizedState;a.state=f,Gs(t,n,a,s),u=t.memoizedState,l!==n||f!==u||Ce.current||_t?(typeof d=="function"&&(Ba(t,r,d,n),u=t.memoizedState),(l=_t||lu(t,r,l,n,f,u,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),a.props=n,a.state=u,a.context=c,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,pd(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:Ke(t.type,l),a.props=c,h=t.pendingProps,f=a.context,u=r.contextType,typeof u=="object"&&u!==null?u=Ve(u):(u=Pe(r)?nr:xe.current,u=Dr(t,u));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||f!==u)&&uu(t,a,n,u),_t=!1,f=t.memoizedState,a.state=f,Gs(t,n,a,s);var v=t.memoizedState;l!==h||f!==v||Ce.current||_t?(typeof y=="function"&&(Ba(t,r,y,n),v=t.memoizedState),(c=_t||lu(t,r,c,n,f,v,u)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,v,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,v,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),a.props=n,a.state=v,a.context=u,n=c):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return qa(e,t,r,n,i,s)}function qa(e,t,r,n,s,i){zd(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&eu(t,r,!1),mt(e,t,i);n=t.stateNode,W0.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Mr(t,e.child,null,i),t.child=Mr(t,null,l,i)):we(e,t,l,i),t.memoizedState=n.state,s&&eu(t,r,!0),t.child}function Fd(e){var t=e.stateNode;t.pendingContext?Zl(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Zl(e,t.context,!1),qo(e,t.containerInfo)}function gu(e,t,r,n,s){return Ur(),zo(s),t.flags|=256,we(e,t,r,n),t.child}var Ka={dehydrated:null,treeContext:null,retryLane:0};function Ga(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bd(e,t,r){var n=t.pendingProps,s=Q.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),W(Q,s&1),e===null)return za(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=wi(a,n,0,null),e=rr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ga(r),t.memoizedState=Ka,e):el(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return q0(e,t,a,n,l,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,l=s.sibling;var u={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=Lt(s,u),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Lt(l,i):(i=rr(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?Ga(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=Ka,n}return i=e.child,e=i.sibling,n=Lt(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function el(e,t){return t=wi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function hs(e,t,r,n){return n!==null&&zo(n),Mr(t,e.child,null,r),e=el(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function q0(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=ta(Error(j(422))),hs(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=wi({mode:"visible",children:n.children},s,0,null),i=rr(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Mr(t,e.child,null,a),t.child.memoizedState=Ga(a),t.memoizedState=Ka,i);if(!(t.mode&1))return hs(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(j(419)),n=ta(i,n,void 0),hs(e,t,a,n)}if(l=(a&e.childLanes)!==0,Ee||l){if(n=ce,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,pt(e,s),Xe(n,e,s,-1))}return al(),n=ta(Error(j(421))),hs(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=ip.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ae=At(s.nextSibling),Ie=t,G=!0,Je=null,e!==null&&(Ue[Me++]=ut,Ue[Me++]=ct,Ue[Me++]=sr,ut=e.id,ct=e.overflow,sr=t),t=el(t,n.children),t.flags|=4096,t)}function yu(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Fa(e.return,t,r)}function ra(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Vd(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(we(e,t,n.children,r),n=Q.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yu(e,r,t);else if(e.tag===19)yu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(W(Q,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Qs(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),ra(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Qs(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}ra(t,!0,r,null,i);break;case"together":ra(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ps(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ar|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(j(153));if(t.child!==null){for(e=t.child,r=Lt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Lt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function K0(e,t,r){switch(t.tag){case 3:Fd(t),Ur();break;case 5:md(t);break;case 1:Pe(t.type)&&Vs(t);break;case 4:qo(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;W(qs,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(W(Q,Q.current&1),t.flags|=128,null):r&t.child.childLanes?Bd(e,t,r):(W(Q,Q.current&1),e=mt(e,t,r),e!==null?e.sibling:null);W(Q,Q.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Vd(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),W(Q,Q.current),n)break;return null;case 22:case 23:return t.lanes=0,Md(e,t,r)}return mt(e,t,r)}var Hd,Qa,Wd,qd;Hd=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Qa=function(){};Wd=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,er(st.current);var i=null;switch(r){case"input":s=ya(e,s),n=ya(e,n),i=[];break;case"select":s=Y({},s,{value:void 0}),n=Y({},n,{value:void 0}),i=[];break;case"textarea":s=wa(e,s),n=wa(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Fs)}_a(r,n);var a;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(jn.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var u=n[c];if(l=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(r||(r={}),r[a]=u[a])}else r||(i||(i=[]),i.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(jn.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&q("scroll",e),i||l===u||(i=[])):(i=i||[]).push(c,u))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};qd=function(e,t,r,n){r!==n&&(t.flags|=4)};function rn(e,t){if(!G)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function G0(e,t,r){var n=t.pendingProps;switch(Mo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(t),null;case 1:return Pe(t.type)&&Bs(),ge(t),null;case 3:return n=t.stateNode,zr(),K(Ce),K(xe),Go(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(cs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Je!==null&&(no(Je),Je=null))),Qa(e,t),ge(t),null;case 5:Ko(t);var s=er(Ln.current);if(r=t.type,e!==null&&t.stateNode!=null)Wd(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(j(166));return ge(t),null}if(e=er(st.current),cs(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[rt]=t,n[Rn]=i,e=(t.mode&1)!==0,r){case"dialog":q("cancel",n),q("close",n);break;case"iframe":case"object":case"embed":q("load",n);break;case"video":case"audio":for(s=0;s<un.length;s++)q(un[s],n);break;case"source":q("error",n);break;case"img":case"image":case"link":q("error",n),q("load",n);break;case"details":q("toggle",n);break;case"input":Nl(n,i),q("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},q("invalid",n);break;case"textarea":Cl(n,i),q("invalid",n)}_a(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&us(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&us(n.textContent,l,e),s=["children",""+l]):jn.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&q("scroll",n)}switch(r){case"input":ts(n),El(n,i,!0);break;case"textarea":ts(n),Pl(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Fs)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=wc(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[rt]=t,e[Rn]=n,Hd(e,t,!1,!1),t.stateNode=e;e:{switch(a=ba(r,n),r){case"dialog":q("cancel",e),q("close",e),s=n;break;case"iframe":case"object":case"embed":q("load",e),s=n;break;case"video":case"audio":for(s=0;s<un.length;s++)q(un[s],e);s=n;break;case"source":q("error",e),s=n;break;case"img":case"image":case"link":q("error",e),q("load",e),s=n;break;case"details":q("toggle",e),s=n;break;case"input":Nl(e,n),s=ya(e,n),q("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Y({},n,{value:void 0}),q("invalid",e);break;case"textarea":Cl(e,n),s=wa(e,n),q("invalid",e);break;default:s=n}_a(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?bc(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&kc(e,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&Sn(e,u):typeof u=="number"&&Sn(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(jn.hasOwnProperty(i)?u!=null&&i==="onScroll"&&q("scroll",e):u!=null&&jo(e,i,u,a))}switch(r){case"input":ts(e),El(e,n,!1);break;case"textarea":ts(e),Pl(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Dt(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Pr(e,!!n.multiple,i,!1):n.defaultValue!=null&&Pr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Fs)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ge(t),null;case 6:if(e&&t.stateNode!=null)qd(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(j(166));if(r=er(Ln.current),er(st.current),cs(t)){if(n=t.stateNode,r=t.memoizedProps,n[rt]=t,(i=n.nodeValue!==r)&&(e=Ie,e!==null))switch(e.tag){case 3:us(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&us(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[rt]=t,t.stateNode=n}return ge(t),null;case 13:if(K(Q),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(G&&Ae!==null&&t.mode&1&&!(t.flags&128))cd(),Ur(),t.flags|=98560,i=!1;else if(i=cs(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(j(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(j(317));i[rt]=t}else Ur(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ge(t),i=!1}else Je!==null&&(no(Je),Je=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Q.current&1?ie===0&&(ie=3):al())),t.updateQueue!==null&&(t.flags|=4),ge(t),null);case 4:return zr(),Qa(e,t),e===null&&An(t.stateNode.containerInfo),ge(t),null;case 10:return Vo(t.type._context),ge(t),null;case 17:return Pe(t.type)&&Bs(),ge(t),null;case 19:if(K(Q),i=t.memoizedState,i===null)return ge(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)rn(i,!1);else{if(ie!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Qs(e),a!==null){for(t.flags|=128,rn(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return W(Q,Q.current&1|2),t.child}e=e.sibling}i.tail!==null&&ee()>Br&&(t.flags|=128,n=!0,rn(i,!1),t.lanes=4194304)}else{if(!n)if(e=Qs(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),rn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!G)return ge(t),null}else 2*ee()-i.renderingStartTime>Br&&r!==1073741824&&(t.flags|=128,n=!0,rn(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ee(),t.sibling=null,r=Q.current,W(Q,n?r&1|2:r&1),t):(ge(t),null);case 22:case 23:return il(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Oe&1073741824&&(ge(t),t.subtreeFlags&6&&(t.flags|=8192)):ge(t),null;case 24:return null;case 25:return null}throw Error(j(156,t.tag))}function Q0(e,t){switch(Mo(t),t.tag){case 1:return Pe(t.type)&&Bs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return zr(),K(Ce),K(xe),Go(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ko(t),null;case 13:if(K(Q),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(j(340));Ur()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return K(Q),null;case 4:return zr(),null;case 10:return Vo(t.type._context),null;case 22:case 23:return il(),null;case 24:return null;default:return null}}var fs=!1,ve=!1,J0=typeof WeakSet=="function"?WeakSet:Set,P=null;function Er(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){X(e,t,n)}else r.current=null}function Ja(e,t,r){try{r()}catch(n){X(e,t,n)}}var vu=!1;function Y0(e,t){if(Ia=Us,e=Yc(),Do(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,l=-1,u=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var y;h!==r||s!==0&&h.nodeType!==3||(l=a+s),h!==i||n!==0&&h.nodeType!==3||(u=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(y=h.firstChild)!==null;)f=h,h=y;for(;;){if(h===e)break t;if(f===r&&++c===s&&(l=a),f===i&&++d===n&&(u=a),(y=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=y}r=l===-1||u===-1?null:{start:l,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ra={focusedElem:e,selectionRange:r},Us=!1,P=t;P!==null;)if(t=P,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,P=e;else for(;P!==null;){t=P;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,k=v.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?x:Ke(t.type,x),k);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(w){X(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,P=e;break}P=t.return}return v=vu,vu=!1,v}function yn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ja(t,r,i)}s=s.next}while(s!==n)}}function vi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Ya(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Kd(e){var t=e.alternate;t!==null&&(e.alternate=null,Kd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[rt],delete t[Rn],delete t[Da],delete t[I0],delete t[R0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Gd(e){return e.tag===5||e.tag===3||e.tag===4}function xu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xa(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Fs));else if(n!==4&&(e=e.child,e!==null))for(Xa(e,t,r),e=e.sibling;e!==null;)Xa(e,t,r),e=e.sibling}function Za(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Za(e,t,r),e=e.sibling;e!==null;)Za(e,t,r),e=e.sibling}var de=null,Ge=!1;function xt(e,t,r){for(r=r.child;r!==null;)Qd(e,t,r),r=r.sibling}function Qd(e,t,r){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(ci,r)}catch{}switch(r.tag){case 5:ve||Er(r,t);case 6:var n=de,s=Ge;de=null,xt(e,t,r),de=n,Ge=s,de!==null&&(Ge?(e=de,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):de.removeChild(r.stateNode));break;case 18:de!==null&&(Ge?(e=de,r=r.stateNode,e.nodeType===8?Qi(e.parentNode,r):e.nodeType===1&&Qi(e,r),Pn(e)):Qi(de,r.stateNode));break;case 4:n=de,s=Ge,de=r.stateNode.containerInfo,Ge=!0,xt(e,t,r),de=n,Ge=s;break;case 0:case 11:case 14:case 15:if(!ve&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Ja(r,t,a),s=s.next}while(s!==n)}xt(e,t,r);break;case 1:if(!ve&&(Er(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){X(r,t,l)}xt(e,t,r);break;case 21:xt(e,t,r);break;case 22:r.mode&1?(ve=(n=ve)||r.memoizedState!==null,xt(e,t,r),ve=n):xt(e,t,r);break;default:xt(e,t,r)}}function wu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new J0),t.forEach(function(n){var s=ap.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function We(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:de=l.stateNode,Ge=!1;break e;case 3:de=l.stateNode.containerInfo,Ge=!0;break e;case 4:de=l.stateNode.containerInfo,Ge=!0;break e}l=l.return}if(de===null)throw Error(j(160));Qd(i,a,s),de=null,Ge=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){X(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Jd(t,e),t=t.sibling}function Jd(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(We(t,e),et(e),n&4){try{yn(3,e,e.return),vi(3,e)}catch(x){X(e,e.return,x)}try{yn(5,e,e.return)}catch(x){X(e,e.return,x)}}break;case 1:We(t,e),et(e),n&512&&r!==null&&Er(r,r.return);break;case 5:if(We(t,e),et(e),n&512&&r!==null&&Er(r,r.return),e.flags&32){var s=e.stateNode;try{Sn(s,"")}catch(x){X(e,e.return,x)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&vc(s,i),ba(l,a);var c=ba(l,i);for(a=0;a<u.length;a+=2){var d=u[a],h=u[a+1];d==="style"?bc(s,h):d==="dangerouslySetInnerHTML"?kc(s,h):d==="children"?Sn(s,h):jo(s,d,h,c)}switch(l){case"input":va(s,i);break;case"textarea":xc(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Pr(s,!!i.multiple,y,!1):f!==!!i.multiple&&(i.defaultValue!=null?Pr(s,!!i.multiple,i.defaultValue,!0):Pr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Rn]=i}catch(x){X(e,e.return,x)}}break;case 6:if(We(t,e),et(e),n&4){if(e.stateNode===null)throw Error(j(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){X(e,e.return,x)}}break;case 3:if(We(t,e),et(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Pn(t.containerInfo)}catch(x){X(e,e.return,x)}break;case 4:We(t,e),et(e);break;case 13:We(t,e),et(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(nl=ee())),n&4&&wu(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(ve=(c=ve)||d,We(t,e),ve=c):We(t,e),et(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(P=e,d=e.child;d!==null;){for(h=P=d;P!==null;){switch(f=P,y=f.child,f.tag){case 0:case 11:case 14:case 15:yn(4,f,f.return);break;case 1:Er(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(x){X(n,r,x)}}break;case 5:Er(f,f.return);break;case 22:if(f.memoizedState!==null){_u(h);continue}}y!==null?(y.return=f,P=y):_u(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,u=h.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=_c("display",a))}catch(x){X(e,e.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(x){X(e,e.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:We(t,e),et(e),n&4&&wu(e);break;case 21:break;default:We(t,e),et(e)}}function et(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Gd(r)){var n=r;break e}r=r.return}throw Error(j(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Sn(s,""),n.flags&=-33);var i=xu(e);Za(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=xu(e);Xa(e,l,a);break;default:throw Error(j(161))}}catch(u){X(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function X0(e,t,r){P=e,Yd(e)}function Yd(e,t,r){for(var n=(e.mode&1)!==0;P!==null;){var s=P,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||fs;if(!a){var l=s.alternate,u=l!==null&&l.memoizedState!==null||ve;l=fs;var c=ve;if(fs=a,(ve=u)&&!c)for(P=s;P!==null;)a=P,u=a.child,a.tag===22&&a.memoizedState!==null?bu(s):u!==null?(u.return=a,P=u):bu(s);for(;i!==null;)P=i,Yd(i),i=i.sibling;P=s,fs=l,ve=c}ku(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,P=i):ku(e)}}function ku(e){for(;P!==null;){var t=P;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ve||vi(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ve)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Ke(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&iu(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}iu(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Pn(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}ve||t.flags&512&&Ya(t)}catch(f){X(t,t.return,f)}}if(t===e){P=null;break}if(r=t.sibling,r!==null){r.return=t.return,P=r;break}P=t.return}}function _u(e){for(;P!==null;){var t=P;if(t===e){P=null;break}var r=t.sibling;if(r!==null){r.return=t.return,P=r;break}P=t.return}}function bu(e){for(;P!==null;){var t=P;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{vi(4,t)}catch(u){X(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(u){X(t,s,u)}}var i=t.return;try{Ya(t)}catch(u){X(t,i,u)}break;case 5:var a=t.return;try{Ya(t)}catch(u){X(t,a,u)}}}catch(u){X(t,t.return,u)}if(t===e){P=null;break}var l=t.sibling;if(l!==null){l.return=t.return,P=l;break}P=t.return}}var Z0=Math.ceil,Xs=yt.ReactCurrentDispatcher,tl=yt.ReactCurrentOwner,Fe=yt.ReactCurrentBatchConfig,F=0,ce=null,ne=null,he=0,Oe=0,Cr=Ft(0),ie=0,zn=null,ar=0,xi=0,rl=0,vn=null,Se=null,nl=0,Br=1/0,at=null,Zs=!1,eo=null,Rt=null,ps=!1,Ct=null,ei=0,xn=0,to=null,Ts=-1,Os=0;function ke(){return F&6?ee():Ts!==-1?Ts:Ts=ee()}function $t(e){return e.mode&1?F&2&&he!==0?he&-he:L0.transition!==null?(Os===0&&(Os=$c()),Os):(e=V,e!==0||(e=window.event,e=e===void 0?16:Bc(e.type)),e):1}function Xe(e,t,r,n){if(50<xn)throw xn=0,to=null,Error(j(185));Vn(e,r,n),(!(F&2)||e!==ce)&&(e===ce&&(!(F&2)&&(xi|=r),ie===4&&St(e,he)),Te(e,n),r===1&&F===0&&!(t.mode&1)&&(Br=ee()+500,mi&&Bt()))}function Te(e,t){var r=e.callbackNode;Lf(e,t);var n=Ds(e,e===ce?he:0);if(n===0)r!==null&&Al(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Al(r),t===1)e.tag===0?$0(ju.bind(null,e)):od(ju.bind(null,e)),O0(function(){!(F&6)&&Bt()}),r=null;else{switch(Lc(n)){case 1:r=Po;break;case 4:r=Ic;break;case 16:r=Ls;break;case 536870912:r=Rc;break;default:r=Ls}r=ih(r,Xd.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Xd(e,t){if(Ts=-1,Os=0,F&6)throw Error(j(327));var r=e.callbackNode;if(Rr()&&e.callbackNode!==r)return null;var n=Ds(e,e===ce?he:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ti(e,n);else{t=n;var s=F;F|=2;var i=eh();(ce!==e||he!==t)&&(at=null,Br=ee()+500,tr(e,t));do try{rp();break}catch(l){Zd(e,l)}while(!0);Bo(),Xs.current=i,F=s,ne!==null?t=0:(ce=null,he=0,t=ie)}if(t!==0){if(t===2&&(s=Ca(e),s!==0&&(n=s,t=ro(e,s))),t===1)throw r=zn,tr(e,0),St(e,n),Te(e,ee()),r;if(t===6)St(e,n);else{if(s=e.current.alternate,!(n&30)&&!ep(s)&&(t=ti(e,n),t===2&&(i=Ca(e),i!==0&&(n=i,t=ro(e,i))),t===1))throw r=zn,tr(e,0),St(e,n),Te(e,ee()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(j(345));case 2:Qt(e,Se,at);break;case 3:if(St(e,n),(n&130023424)===n&&(t=nl+500-ee(),10<t)){if(Ds(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){ke(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=La(Qt.bind(null,e,Se,at),t);break}Qt(e,Se,at);break;case 4:if(St(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-Ye(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=ee()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Z0(n/1960))-n,10<n){e.timeoutHandle=La(Qt.bind(null,e,Se,at),n);break}Qt(e,Se,at);break;case 5:Qt(e,Se,at);break;default:throw Error(j(329))}}}return Te(e,ee()),e.callbackNode===r?Xd.bind(null,e):null}function ro(e,t){var r=vn;return e.current.memoizedState.isDehydrated&&(tr(e,t).flags|=256),e=ti(e,t),e!==2&&(t=Se,Se=r,t!==null&&no(t)),e}function no(e){Se===null?Se=e:Se.push.apply(Se,e)}function ep(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Ze(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function St(e,t){for(t&=~rl,t&=~xi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ye(t),n=1<<r;e[r]=-1,t&=~n}}function ju(e){if(F&6)throw Error(j(327));Rr();var t=Ds(e,0);if(!(t&1))return Te(e,ee()),null;var r=ti(e,t);if(e.tag!==0&&r===2){var n=Ca(e);n!==0&&(t=n,r=ro(e,n))}if(r===1)throw r=zn,tr(e,0),St(e,t),Te(e,ee()),r;if(r===6)throw Error(j(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qt(e,Se,at),Te(e,ee()),null}function sl(e,t){var r=F;F|=1;try{return e(t)}finally{F=r,F===0&&(Br=ee()+500,mi&&Bt())}}function or(e){Ct!==null&&Ct.tag===0&&!(F&6)&&Rr();var t=F;F|=1;var r=Fe.transition,n=V;try{if(Fe.transition=null,V=1,e)return e()}finally{V=n,Fe.transition=r,F=t,!(F&6)&&Bt()}}function il(){Oe=Cr.current,K(Cr)}function tr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,T0(r)),ne!==null)for(r=ne.return;r!==null;){var n=r;switch(Mo(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Bs();break;case 3:zr(),K(Ce),K(xe),Go();break;case 5:Ko(n);break;case 4:zr();break;case 13:K(Q);break;case 19:K(Q);break;case 10:Vo(n.type._context);break;case 22:case 23:il()}r=r.return}if(ce=e,ne=e=Lt(e.current,null),he=Oe=t,ie=0,zn=null,rl=xi=ar=0,Se=vn=null,Zt!==null){for(t=0;t<Zt.length;t++)if(r=Zt[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}Zt=null}return e}function Zd(e,t){do{var r=ne;try{if(Bo(),Es.current=Ys,Js){for(var n=J.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Js=!1}if(ir=0,ue=se=J=null,gn=!1,Dn=0,tl.current=null,r===null||r.return===null){ie=1,zn=t,ne=null;break}e:{var i=e,a=r.return,l=r,u=t;if(t=he,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=du(a);if(y!==null){y.flags&=-257,hu(y,a,l,i,t),y.mode&1&&cu(i,c,t),t=y,u=c;var v=t.updateQueue;if(v===null){var x=new Set;x.add(u),t.updateQueue=x}else v.add(u);break e}else{if(!(t&1)){cu(i,c,t),al();break e}u=Error(j(426))}}else if(G&&l.mode&1){var k=du(a);if(k!==null){!(k.flags&65536)&&(k.flags|=256),hu(k,a,l,i,t),zo(Fr(u,l));break e}}i=u=Fr(u,l),ie!==4&&(ie=2),vn===null?vn=[i]:vn.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Ld(i,u,t);su(i,g);break e;case 1:l=u;var p=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Rt===null||!Rt.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=Dd(i,l,t);su(i,w);break e}}i=i.return}while(i!==null)}rh(r)}catch(_){t=_,ne===r&&r!==null&&(ne=r=r.return);continue}break}while(!0)}function eh(){var e=Xs.current;return Xs.current=Ys,e===null?Ys:e}function al(){(ie===0||ie===3||ie===2)&&(ie=4),ce===null||!(ar&268435455)&&!(xi&268435455)||St(ce,he)}function ti(e,t){var r=F;F|=2;var n=eh();(ce!==e||he!==t)&&(at=null,tr(e,t));do try{tp();break}catch(s){Zd(e,s)}while(!0);if(Bo(),F=r,Xs.current=n,ne!==null)throw Error(j(261));return ce=null,he=0,ie}function tp(){for(;ne!==null;)th(ne)}function rp(){for(;ne!==null&&!Ef();)th(ne)}function th(e){var t=sh(e.alternate,e,Oe);e.memoizedProps=e.pendingProps,t===null?rh(e):ne=t,tl.current=null}function rh(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Q0(r,t),r!==null){r.flags&=32767,ne=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ie=6,ne=null;return}}else if(r=G0(r,t,Oe),r!==null){ne=r;return}if(t=t.sibling,t!==null){ne=t;return}ne=t=e}while(t!==null);ie===0&&(ie=5)}function Qt(e,t,r){var n=V,s=Fe.transition;try{Fe.transition=null,V=1,np(e,t,r,n)}finally{Fe.transition=s,V=n}return null}function np(e,t,r,n){do Rr();while(Ct!==null);if(F&6)throw Error(j(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(j(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Df(e,i),e===ce&&(ne=ce=null,he=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ps||(ps=!0,ih(Ls,function(){return Rr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Fe.transition,Fe.transition=null;var a=V;V=1;var l=F;F|=4,tl.current=null,Y0(e,r),Jd(r,e),b0(Ra),Us=!!Ia,Ra=Ia=null,e.current=r,X0(r),Cf(),F=l,V=a,Fe.transition=i}else e.current=r;if(ps&&(ps=!1,Ct=e,ei=s),i=e.pendingLanes,i===0&&(Rt=null),Of(r.stateNode),Te(e,ee()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Zs)throw Zs=!1,e=eo,eo=null,e;return ei&1&&e.tag!==0&&Rr(),i=e.pendingLanes,i&1?e===to?xn++:(xn=0,to=e):xn=0,Bt(),null}function Rr(){if(Ct!==null){var e=Lc(ei),t=Fe.transition,r=V;try{if(Fe.transition=null,V=16>e?16:e,Ct===null)var n=!1;else{if(e=Ct,Ct=null,ei=0,F&6)throw Error(j(331));var s=F;for(F|=4,P=e.current;P!==null;){var i=P,a=i.child;if(P.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(P=c;P!==null;){var d=P;switch(d.tag){case 0:case 11:case 15:yn(8,d,i)}var h=d.child;if(h!==null)h.return=d,P=h;else for(;P!==null;){d=P;var f=d.sibling,y=d.return;if(Kd(d),d===c){P=null;break}if(f!==null){f.return=y,P=f;break}P=y}}}var v=i.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var k=x.sibling;x.sibling=null,x=k}while(x!==null)}}P=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,P=a;else e:for(;P!==null;){if(i=P,i.flags&2048)switch(i.tag){case 0:case 11:case 15:yn(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,P=g;break e}P=i.return}}var p=e.current;for(P=p;P!==null;){a=P;var m=a.child;if(a.subtreeFlags&2064&&m!==null)m.return=a,P=m;else e:for(a=p;P!==null;){if(l=P,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:vi(9,l)}}catch(_){X(l,l.return,_)}if(l===a){P=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,P=w;break e}P=l.return}}if(F=s,Bt(),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(ci,e)}catch{}n=!0}return n}finally{V=r,Fe.transition=t}}return!1}function Su(e,t,r){t=Fr(r,t),t=Ld(e,t,1),e=It(e,t,1),t=ke(),e!==null&&(Vn(e,1,t),Te(e,t))}function X(e,t,r){if(e.tag===3)Su(e,e,r);else for(;t!==null;){if(t.tag===3){Su(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Rt===null||!Rt.has(n))){e=Fr(r,e),e=Dd(t,e,1),t=It(t,e,1),e=ke(),t!==null&&(Vn(t,1,e),Te(t,e));break}}t=t.return}}function sp(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ke(),e.pingedLanes|=e.suspendedLanes&r,ce===e&&(he&r)===r&&(ie===4||ie===3&&(he&130023424)===he&&500>ee()-nl?tr(e,0):rl|=r),Te(e,t)}function nh(e,t){t===0&&(e.mode&1?(t=ss,ss<<=1,!(ss&130023424)&&(ss=4194304)):t=1);var r=ke();e=pt(e,t),e!==null&&(Vn(e,t,r),Te(e,r))}function ip(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),nh(e,r)}function ap(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(j(314))}n!==null&&n.delete(t),nh(e,r)}var sh;sh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ce.current)Ee=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ee=!1,K0(e,t,r);Ee=!!(e.flags&131072)}else Ee=!1,G&&t.flags&1048576&&ld(t,Ws,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ps(e,t),e=t.pendingProps;var s=Dr(t,xe.current);Ir(t,r),s=Jo(null,t,n,e,s,r);var i=Yo();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pe(n)?(i=!0,Vs(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Wo(t),s.updater=yi,t.stateNode=s,s._reactInternals=t,Va(t,n,e,r),t=qa(null,t,n,!0,i,r)):(t.tag=0,G&&i&&Uo(t),we(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ps(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=lp(n),e=Ke(n,e),s){case 0:t=Wa(null,t,n,e,r);break e;case 1:t=mu(null,t,n,e,r);break e;case 11:t=fu(null,t,n,e,r);break e;case 14:t=pu(null,t,n,Ke(n.type,e),r);break e}throw Error(j(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ke(n,s),Wa(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ke(n,s),mu(e,t,n,s,r);case 3:e:{if(Fd(t),e===null)throw Error(j(387));n=t.pendingProps,i=t.memoizedState,s=i.element,pd(e,t),Gs(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Fr(Error(j(423)),t),t=gu(e,t,n,r,s);break e}else if(n!==s){s=Fr(Error(j(424)),t),t=gu(e,t,n,r,s);break e}else for(Ae=At(t.stateNode.containerInfo.firstChild),Ie=t,G=!0,Je=null,r=hd(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ur(),n===s){t=mt(e,t,r);break e}we(e,t,n,r)}t=t.child}return t;case 5:return md(t),e===null&&za(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,$a(n,s)?a=null:i!==null&&$a(n,i)&&(t.flags|=32),zd(e,t),we(e,t,a,r),t.child;case 6:return e===null&&za(t),null;case 13:return Bd(e,t,r);case 4:return qo(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Mr(t,null,n,r):we(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ke(n,s),fu(e,t,n,s,r);case 7:return we(e,t,t.pendingProps,r),t.child;case 8:return we(e,t,t.pendingProps.children,r),t.child;case 12:return we(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,W(qs,n._currentValue),n._currentValue=a,i!==null)if(Ze(i.value,a)){if(i.children===s.children&&!Ce.current){t=mt(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var u=l.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=dt(-1,r&-r),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),Fa(i.return,r,t),l.lanes|=r;break}u=u.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(j(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Fa(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}we(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Ir(t,r),s=Ve(s),n=n(s),t.flags|=1,we(e,t,n,r),t.child;case 14:return n=t.type,s=Ke(n,t.pendingProps),s=Ke(n.type,s),pu(e,t,n,s,r);case 15:return Ud(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ke(n,s),Ps(e,t),t.tag=1,Pe(n)?(e=!0,Vs(t)):e=!1,Ir(t,r),$d(t,n,s),Va(t,n,s,r),qa(null,t,n,!0,e,r);case 19:return Vd(e,t,r);case 22:return Md(e,t,r)}throw Error(j(156,t.tag))};function ih(e,t){return Ac(e,t)}function op(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ze(e,t,r,n){return new op(e,t,r,n)}function ol(e){return e=e.prototype,!(!e||!e.isReactComponent)}function lp(e){if(typeof e=="function")return ol(e)?1:0;if(e!=null){if(e=e.$$typeof,e===No)return 11;if(e===Eo)return 14}return 2}function Lt(e,t){var r=e.alternate;return r===null?(r=ze(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function As(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")ol(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case vr:return rr(r.children,s,i,t);case So:a=8,s|=8;break;case fa:return e=ze(12,r,t,s|2),e.elementType=fa,e.lanes=i,e;case pa:return e=ze(13,r,t,s),e.elementType=pa,e.lanes=i,e;case ma:return e=ze(19,r,t,s),e.elementType=ma,e.lanes=i,e;case mc:return wi(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fc:a=10;break e;case pc:a=9;break e;case No:a=11;break e;case Eo:a=14;break e;case kt:a=16,n=null;break e}throw Error(j(130,e==null?e:typeof e,""))}return t=ze(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function rr(e,t,r,n){return e=ze(7,e,n,t),e.lanes=r,e}function wi(e,t,r,n){return e=ze(22,e,n,t),e.elementType=mc,e.lanes=r,e.stateNode={isHidden:!1},e}function na(e,t,r){return e=ze(6,e,null,t),e.lanes=r,e}function sa(e,t,r){return t=ze(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function up(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ui(0),this.expirationTimes=Ui(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ui(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ll(e,t,r,n,s,i,a,l,u){return e=new up(e,t,r,l,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ze(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wo(i),e}function cp(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function ah(e){if(!e)return Ut;e=e._reactInternals;e:{if(ur(e)!==e||e.tag!==1)throw Error(j(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(j(171))}if(e.tag===1){var r=e.type;if(Pe(r))return ad(e,r,t)}return t}function oh(e,t,r,n,s,i,a,l,u){return e=ll(r,n,!0,e,s,i,a,l,u),e.context=ah(null),r=e.current,n=ke(),s=$t(r),i=dt(n,s),i.callback=t??null,It(r,i,s),e.current.lanes=s,Vn(e,s,n),Te(e,n),e}function ki(e,t,r,n){var s=t.current,i=ke(),a=$t(s);return r=ah(r),t.context===null?t.context=r:t.pendingContext=r,t=dt(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=It(s,t,a),e!==null&&(Xe(e,s,a,i),Ns(e,s,a)),a}function ri(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Nu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ul(e,t){Nu(e,t),(e=e.alternate)&&Nu(e,t)}function dp(){return null}var lh=typeof reportError=="function"?reportError:function(e){console.error(e)};function cl(e){this._internalRoot=e}_i.prototype.render=cl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(j(409));ki(e,t,null,null)};_i.prototype.unmount=cl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;or(function(){ki(null,e,null,null)}),t[ft]=null}};function _i(e){this._internalRoot=e}_i.prototype.unstable_scheduleHydration=function(e){if(e){var t=Mc();e={blockedOn:null,target:e,priority:t};for(var r=0;r<jt.length&&t!==0&&t<jt[r].priority;r++);jt.splice(r,0,e),r===0&&Fc(e)}};function dl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function bi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Eu(){}function hp(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=ri(a);i.call(c)}}var a=oh(t,n,e,0,null,!1,!1,"",Eu);return e._reactRootContainer=a,e[ft]=a.current,An(e.nodeType===8?e.parentNode:e),or(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var c=ri(u);l.call(c)}}var u=ll(e,0,!1,null,null,!1,!1,"",Eu);return e._reactRootContainer=u,e[ft]=u.current,An(e.nodeType===8?e.parentNode:e),or(function(){ki(t,u,r,n)}),u}function ji(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var u=ri(a);l.call(u)}}ki(t,a,e,s)}else a=hp(r,t,e,s,n);return ri(a)}Dc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ln(t.pendingLanes);r!==0&&(To(t,r|1),Te(t,ee()),!(F&6)&&(Br=ee()+500,Bt()))}break;case 13:or(function(){var n=pt(e,1);if(n!==null){var s=ke();Xe(n,e,1,s)}}),ul(e,1)}};Oo=function(e){if(e.tag===13){var t=pt(e,134217728);if(t!==null){var r=ke();Xe(t,e,134217728,r)}ul(e,134217728)}};Uc=function(e){if(e.tag===13){var t=$t(e),r=pt(e,t);if(r!==null){var n=ke();Xe(r,e,t,n)}ul(e,t)}};Mc=function(){return V};zc=function(e,t){var r=V;try{return V=e,t()}finally{V=r}};Sa=function(e,t,r){switch(t){case"input":if(va(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=pi(n);if(!s)throw Error(j(90));yc(n),va(n,s)}}}break;case"textarea":xc(e,r);break;case"select":t=r.value,t!=null&&Pr(e,!!r.multiple,t,!1)}};Nc=sl;Ec=or;var fp={usingClientEntryPoint:!1,Events:[Wn,_r,pi,jc,Sc,sl]},nn={findFiberByHostInstance:Xt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pp={bundleType:nn.bundleType,version:nn.version,rendererPackageName:nn.rendererPackageName,rendererConfig:nn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Tc(e),e===null?null:e.stateNode},findFiberByHostInstance:nn.findFiberByHostInstance||dp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ms=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ms.isDisabled&&ms.supportsFiber)try{ci=ms.inject(pp),nt=ms}catch{}}Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fp;Le.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dl(t))throw Error(j(200));return cp(e,t,null,r)};Le.createRoot=function(e,t){if(!dl(e))throw Error(j(299));var r=!1,n="",s=lh;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ll(e,1,!1,null,null,r,!1,n,s),e[ft]=t.current,An(e.nodeType===8?e.parentNode:e),new cl(t)};Le.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(j(188)):(e=Object.keys(e).join(","),Error(j(268,e)));return e=Tc(t),e=e===null?null:e.stateNode,e};Le.flushSync=function(e){return or(e)};Le.hydrate=function(e,t,r){if(!bi(t))throw Error(j(200));return ji(null,e,t,!0,r)};Le.hydrateRoot=function(e,t,r){if(!dl(e))throw Error(j(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=lh;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=oh(t,null,e,1,r??null,s,!1,i,a),e[ft]=t.current,An(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new _i(t)};Le.render=function(e,t,r){if(!bi(t))throw Error(j(200));return ji(null,e,t,!1,r)};Le.unmountComponentAtNode=function(e){if(!bi(e))throw Error(j(40));return e._reactRootContainer?(or(function(){ji(null,null,e,!1,function(){e._reactRootContainer=null,e[ft]=null})}),!0):!1};Le.unstable_batchedUpdates=sl;Le.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!bi(r))throw Error(j(200));if(e==null||e._reactInternals===void 0)throw Error(j(38));return ji(e,t,r,!1,n)};Le.version="18.3.1-next-f1338f8080-20240426";function uh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uh)}catch(e){console.error(e)}}uh(),uc.exports=Le;var mp=uc.exports,ch,Cu=mp;ch=Cu.createRoot,Cu.hydrateRoot;const gp="modulepreload",yp=function(e){return"/"+e},Pu={},Kn=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(u=>{if(u=yp(u),u in Pu)return;Pu[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":gp,c||(h.as="script"),h.crossOrigin="",h.href=u,l&&h.setAttribute("nonce",l),document.head.appendChild(h),c)return new Promise((f,y)=>{h.addEventListener("load",f),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},vp=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Kn(async()=>{const{default:n}=await Promise.resolve().then(()=>Gr);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class hl extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class xp extends hl{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class wp extends hl{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class kp extends hl{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var so;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(so||(so={}));var _p=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};class bp{constructor(t,{headers:r={},customFetch:n,region:s=so.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=vp(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return _p(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=r;let l={},{region:u}=r;u||(u=this.region),u&&u!=="any"&&(l["x-region"]=u);let c;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",c=a):typeof a=="string"?(l["Content-Type"]="text/plain",c=a):typeof FormData<"u"&&a instanceof FormData?c=a:(l["Content-Type"]="application/json",c=JSON.stringify(a)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:c}).catch(v=>{throw new xp(v)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new wp(d);if(!d.ok)throw new kp(d);let f=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return f==="application/json"?y=yield d.json():f==="application/octet-stream"?y=yield d.blob():f==="text/event-stream"?y=d:f==="multipart/form-data"?y=yield d.formData():y=yield d.text(),{data:y,error:null}}catch(s){return{data:null,error:s}}})}}var Ne={},fl={},Si={},Gn={},Ni={},Ei={},jp=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Vr=jp();const Sp=Vr.fetch,dh=Vr.fetch.bind(Vr),hh=Vr.Headers,Np=Vr.Request,Ep=Vr.Response,Gr=Object.freeze(Object.defineProperty({__proto__:null,Headers:hh,Request:Np,Response:Ep,default:dh,fetch:Sp},Symbol.toStringTag,{value:"Module"})),Cp=Bh(Gr);var Ci={};Object.defineProperty(Ci,"__esModule",{value:!0});let Pp=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Ci.default=Pp;var fh=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ei,"__esModule",{value:!0});const Tp=fh(Cp),Op=fh(Ci);let Ap=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Tp.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,l,u;let c=null,d=null,h=null,f=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const x=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),k=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");x&&k&&k.length>1&&(h=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const x=await i.text();try{c=JSON.parse(x),Array.isArray(c)&&i.status===404&&(d=[],c=null,f=200,y="OK")}catch{i.status===404&&x===""?(f=204,y="No Content"):c={message:x}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,f=200,y="OK"),c&&this.shouldThrowOnError)throw new Op.default(c)}return{error:c,data:d,count:h,status:f,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,l,u;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(u=i==null?void 0:i.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Ei.default=Ap;var Ip=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ni,"__esModule",{value:!0});const Rp=Ip(Ei);let $p=class extends Rp.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var l;const u=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${c}"; options=${u};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ni.default=$p;var Lp=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gn,"__esModule",{value:!0});const Dp=Lp(Ni);let Up=class extends Dp.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${a}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Gn.default=Up;var Mp=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Si,"__esModule",{value:!0});const sn=Mp(Gn);let zp=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new sn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const a=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(a.length>0){const l=[...new Set(a)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new sn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const a="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const u=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new sn.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new sn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new sn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Si.default=zp;var Pi={},Ti={};Object.defineProperty(Ti,"__esModule",{value:!0});Ti.version=void 0;Ti.version="0.0.0-automated";Object.defineProperty(Pi,"__esModule",{value:!0});Pi.DEFAULT_HEADERS=void 0;const Fp=Ti;Pi.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Fp.version}`};var ph=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fl,"__esModule",{value:!0});const Bp=ph(Si),Vp=ph(Gn),Hp=Pi;let Wp=class mh{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},Hp.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new Bp.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new mh(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let a;const l=new URL(`${this.url}/rpc/${t}`);let u;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(a="POST",u=r);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new Vp.default({method:a,url:l,headers:c,schema:this.schemaName,body:u,fetch:this.fetch,allowEmpty:!1})}};fl.default=Wp;var Qr=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ne,"__esModule",{value:!0});Ne.PostgrestError=Ne.PostgrestBuilder=Ne.PostgrestTransformBuilder=Ne.PostgrestFilterBuilder=Ne.PostgrestQueryBuilder=Ne.PostgrestClient=void 0;const gh=Qr(fl);Ne.PostgrestClient=gh.default;const yh=Qr(Si);Ne.PostgrestQueryBuilder=yh.default;const vh=Qr(Gn);Ne.PostgrestFilterBuilder=vh.default;const xh=Qr(Ni);Ne.PostgrestTransformBuilder=xh.default;const wh=Qr(Ei);Ne.PostgrestBuilder=wh.default;const kh=Qr(Ci);Ne.PostgrestError=kh.default;var qp=Ne.default={PostgrestClient:gh.default,PostgrestQueryBuilder:yh.default,PostgrestFilterBuilder:vh.default,PostgrestTransformBuilder:xh.default,PostgrestBuilder:wh.default,PostgrestError:kh.default};const{PostgrestClient:Kp,PostgrestQueryBuilder:xy,PostgrestFilterBuilder:wy,PostgrestTransformBuilder:ky,PostgrestBuilder:_y,PostgrestError:by}=qp;function Gp(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Qp=Gp(),Jp="2.11.15",Yp=`realtime-js/${Jp}`,Xp="1.0.0",_h=1e4,Zp=1e3;var wn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(wn||(wn={}));var ye;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ye||(ye={}));var Qe;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Qe||(Qe={}));var io;(function(e){e.websocket="websocket"})(io||(io={}));var Yt;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Yt||(Yt={}));class em{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const l=n.decode(t.slice(a,a+s));a=a+s;const u=n.decode(t.slice(a,a+i));a=a+i;const c=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:l,event:u,payload:c}}}class bh{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var H;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(H||(H={}));const Tu=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,a)=>(i[a]=tm(a,e,t,s),i),{})},tm=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?jh(i,a):ao(a)},jh=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return im(t,r)}switch(e){case H.bool:return rm(t);case H.float4:case H.float8:case H.int2:case H.int4:case H.int8:case H.numeric:case H.oid:return nm(t);case H.json:case H.jsonb:return sm(t);case H.timestamp:return am(t);case H.abstime:case H.date:case H.daterange:case H.int4range:case H.int8range:case H.money:case H.reltime:case H.text:case H.time:case H.timestamptz:case H.timetz:case H.tsrange:case H.tstzrange:return ao(t);default:return ao(t)}},ao=e=>e,rm=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},nm=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},sm=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},im=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>jh(t,l))}return e},am=e=>typeof e=="string"?e.replace(" ","T"):e,Sh=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class ia{constructor(t,r,n={},s=_h){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ou;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ou||(Ou={}));class kn{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=kn.syncState(this.state,s,i,a),this.pendingDiffs.forEach(u=>{this.state=kn.syncDiff(this.state,u,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=kn.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),l={},u={};return this.map(i,(c,d)=>{a[c]||(u[c]=d)}),this.map(a,(c,d)=>{const h=i[c];if(h){const f=d.map(k=>k.presence_ref),y=h.map(k=>k.presence_ref),v=d.filter(k=>y.indexOf(k.presence_ref)<0),x=h.filter(k=>f.indexOf(k.presence_ref)<0);v.length>0&&(l[c]=v),x.length>0&&(u[c]=x)}else l[c]=d}),this.syncDiff(i,{joins:l,leaves:u},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,u)=>{var c;const d=(c=t[l])!==null&&c!==void 0?c:[];if(t[l]=this.cloneDeep(u),d.length>0){const h=t[l].map(y=>y.presence_ref),f=d.filter(y=>h.indexOf(y.presence_ref)<0);t[l].unshift(...f)}n(l,d,u)}),this.map(a,(l,u)=>{let c=t[l];if(!c)return;const d=u.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=c,s(l,c,u),c.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Au;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Au||(Au={}));var Iu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Iu||(Iu={}));var ot;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ot||(ot={}));class pl{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ye.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ia(this,Qe.join,this.params,this.timeout),this.rejoinTimer=new bh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ye.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ye.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qe.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new kn(this),this.broadcastEndpointURL=Sh(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==ye.closed){const{config:{broadcast:i,presence:a,private:l}}=this.params;this._onError(d=>t==null?void 0:t(ot.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(ot.CLOSED));const u={},c={broadcast:i,presence:a,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},u)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(ot.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,y=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,v=[];for(let x=0;x<y;x++){const k=f[x],{filter:{event:g,schema:p,table:m,filter:w}}=k,_=d&&d[x];if(_&&_.event===g&&_.schema===p&&_.table===m&&_.filter===w)v.push(Object.assign(Object.assign({},k),{id:_.id}));else{this.unsubscribe(),this.state=ye.errored,t==null||t(ot.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(ot.SUBSCRIBED);return}}).receive("error",d=>{this.state=ye.errored,t==null||t(ot.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ot.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:a}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,u;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ye.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qe.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new ia(this,Qe.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new ia(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:l,error:u,leave:c,join:d}=Qe;if(n&&[l,u,c,d].indexOf(a)>=0&&n!==this._joinRef())return;let f=this._onMessage(a,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var v,x,k;return((v=y.filter)===null||v===void 0?void 0:v.event)==="*"||((k=(x=y.filter)===null||x===void 0?void 0:x.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===a}).map(y=>y.callback(f,n)):(i=this.bindings[a])===null||i===void 0||i.filter(y=>{var v,x,k,g,p,m;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in y){const w=y.id,_=(v=y.filter)===null||v===void 0?void 0:v.event;return w&&((x=r.ids)===null||x===void 0?void 0:x.includes(w))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((k=r.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const w=(p=(g=y==null?void 0:y.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return w==="*"||w===((m=r==null?void 0:r.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===a}).map(y=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:x,table:k,commit_timestamp:g,type:p,errors:m}=v;f=Object.assign(Object.assign({},{schema:x,table:k,commit_timestamp:g,eventType:p,new:{},old:{},errors:m}),this._getPayloadRecords(v))}y.callback(f,n)})}_isClosed(){return this.state===ye.closed}_isJoined(){return this.state===ye.joined}_isJoining(){return this.state===ye.joining}_isLeaving(){return this.state===ye.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&pl.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Qe.close,{},t)}_onError(t){this._on(Qe.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ye.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Tu(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Tu(t.columns,t.old_record)),r}}const Ru=()=>{},om=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class lm{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=_h,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ru,this.ref=0,this.logger=Ru,this.conn=null,this.sendBuffer=[],this.serializer=new em,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...l)=>Kn(async()=>{const{default:u}=await Promise.resolve().then(()=>Gr);return{default:u}},void 0).then(({default:u})=>u(...l)):a=fetch,(...l)=>a(...l)},this.endPoint=`${t}/${io.websocket}`,this.httpEndpoint=Sh(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,a)=>a(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new bh(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Qp),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Xp}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case wn.connecting:return Yt.Connecting;case wn.open:return Yt.Open;case wn.closing:return Yt.Closing;default:return Yt.Closed}}isConnected(){return this.connectionState()===Yt.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new pl(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:Yp};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Qe.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(Zp,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:a}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${a&&"("+a+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,i,a)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Qe.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([om],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class ml extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function le(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class um extends ml{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class oo extends ml{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var cm=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};const Nh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Kn(async()=>{const{default:n}=await Promise.resolve().then(()=>Gr);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},dm=()=>cm(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Kn(()=>Promise.resolve().then(()=>Gr),void 0)).Response:Response}),lo=e=>{if(Array.isArray(e))return e.map(r=>lo(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=lo(n)}),t};var cr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};const aa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),hm=(e,t,r)=>cr(void 0,void 0,void 0,function*(){const n=yield dm();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new um(aa(s),e.status||500))}).catch(s=>{t(new oo(aa(s),s))}):t(new oo(aa(e),e))}),fm=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Qn(e,t,r,n,s,i){return cr(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(r,fm(t,n,s,i)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>a(u)).catch(u=>hm(u,l,n))})})}function ni(e,t,r,n){return cr(this,void 0,void 0,function*(){return Qn(e,"GET",t,r,n)})}function bt(e,t,r,n,s){return cr(this,void 0,void 0,function*(){return Qn(e,"POST",t,n,s,r)})}function pm(e,t,r,n,s){return cr(this,void 0,void 0,function*(){return Qn(e,"PUT",t,n,s,r)})}function mm(e,t,r,n){return cr(this,void 0,void 0,function*(){return Qn(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Eh(e,t,r,n,s){return cr(this,void 0,void 0,function*(){return Qn(e,"DELETE",t,n,s,r)})}var je=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};const gm={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$u={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ym{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Nh(s)}uploadOrUpdate(t,r,n,s){return je(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},$u),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const u=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{})),f=yield h.json();return h.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(le(i))return{data:null,error:i};throw i}})}upload(t,r,n){return je(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return je(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),a=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",r);try{let u;const c=Object.assign({upsert:$u.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",c.cacheControl)):(u=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:u,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(u){if(le(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,r){return je(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield bt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),l=a.searchParams.get("token");if(!l)throw new ml("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}})}update(t,r,n){return je(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return je(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(le(s))return{data:null,error:s};throw s}})}copy(t,r,n){return je(this,void 0,void 0,function*(){try{return{data:{path:(yield bt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(le(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return je(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield bt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(le(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return je(this,void 0,void 0,function*(){try{const s=yield bt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(le(s))return{data:null,error:s};throw s}})}download(t,r){return je(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield ni(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(le(l))return{data:null,error:l};throw l}})}info(t){return je(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield ni(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:lo(n),error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}})}exists(t){return je(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield mm(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(le(n)&&n instanceof oo){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${c}`)}}}remove(t){return je(this,void 0,void 0,function*(){try{return{data:yield Eh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}})}list(t,r,n){return je(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},gm),r),{prefix:t||""});return{data:yield bt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(le(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const vm="2.7.1",xm={"X-Client-Info":`storage-js/${vm}`};var hr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};class wm{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},xm),r),this.fetch=Nh(n)}listBuckets(){return hr(this,void 0,void 0,function*(){try{return{data:yield ni(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(le(t))return{data:null,error:t};throw t}})}getBucket(t){return hr(this,void 0,void 0,function*(){try{return{data:yield ni(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return hr(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return hr(this,void 0,void 0,function*(){try{return{data:yield pm(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}})}emptyBucket(t){return hr(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}})}deleteBucket(t){return hr(this,void 0,void 0,function*(){try{return{data:yield Eh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}})}}class km extends wm{constructor(t,r={},n){super(t,r,n)}from(t){return new ym(this.url,this.headers,t,this.fetch)}}const _m="2.50.2";let cn="";typeof Deno<"u"?cn="deno":typeof document<"u"?cn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?cn="react-native":cn="node";const bm={"X-Client-Info":`supabase-js-${cn}/${_m}`},jm={headers:bm},Sm={schema:"public"},Nm={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Em={};var Cm=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};const Pm=e=>{let t;return e?t=e:typeof fetch>"u"?t=dh:t=fetch,(...r)=>t(...r)},Tm=()=>typeof Headers>"u"?hh:Headers,Om=(e,t,r)=>{const n=Pm(r),s=Tm();return(i,a)=>Cm(void 0,void 0,void 0,function*(){var l;const u=(l=yield t())!==null&&l!==void 0?l:e;let c=new s(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),n(i,Object.assign(Object.assign({},a),{headers:c}))})};var Am=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};function Im(e){return e.endsWith("/")?e:e+"/"}function Rm(e,t){var r,n;const{db:s,auth:i,realtime:a,global:l}=e,{db:u,auth:c,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},u),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),a),global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Am(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const Ch="2.70.0",gr=30*1e3,uo=3,oa=uo*gr,$m="http://localhost:9999",Lm="supabase.auth.token",Dm={"X-Client-Info":`gotrue-js/${Ch}`},co="X-Supabase-Api-Version",Ph={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Um=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Mm=6e5;class gl extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function $(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class zm extends gl{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Fm(e){return $(e)&&e.name==="AuthApiError"}class Th extends gl{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Vt extends gl{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class wt extends Vt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Bm(e){return $(e)&&e.name==="AuthSessionMissingError"}class gs extends Vt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ys extends Vt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class vs extends Vt{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Vm(e){return $(e)&&e.name==="AuthImplicitGrantRedirectError"}class Lu extends Vt{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ho extends Vt{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function la(e){return $(e)&&e.name==="AuthRetryableFetchError"}class Du extends Vt{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class _n extends Vt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const si="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Uu=` 	
\r=`.split(""),Hm=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Uu.length;t+=1)e[Uu[t].charCodeAt(0)]=-2;for(let t=0;t<si.length;t+=1)e[si[t].charCodeAt(0)]=t;return e})();function Mu(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(si[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(si[n]),t.queuedBits-=6}}function Oh(e,t,r){const n=Hm[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function zu(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{Km(a,n,r)};for(let a=0;a<e.length;a+=1)Oh(e.charCodeAt(a),s,i);return t.join("")}function Wm(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function qm(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Wm(n,t)}}function Km(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Gm(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Oh(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Qm(e){const t=[];return qm(e,r=>t.push(r)),new Uint8Array(t)}function Jm(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Mu(s,r,n)),Mu(null,r,n),t.join("")}function Ym(e){return Math.round(Date.now()/1e3)+e}function Xm(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const qe=()=>typeof window<"u"&&typeof document<"u",Kt={tested:!1,writable:!1},bn=()=>{if(!qe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Kt.tested)return Kt.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Kt.tested=!0,Kt.writable=!0}catch{Kt.tested=!0,Kt.writable=!1}return Kt.writable};function Zm(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Ah=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Kn(async()=>{const{default:n}=await Promise.resolve().then(()=>Gr);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},eg=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ih=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},xs=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ws=async(e,t)=>{await e.removeItem(t)};class Oi{constructor(){this.promise=new Oi.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Oi.promiseConstructor=Promise;function ua(e){const t=e.split(".");if(t.length!==3)throw new _n("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Um.test(t[n]))throw new _n("JWT not in base64url format");return{header:JSON.parse(zu(t[0])),payload:JSON.parse(zu(t[1])),signature:Gm(t[2]),raw:{header:t[0],payload:t[1]}}}async function tg(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function rg(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function ng(e){return("0"+e.toString(16)).substr(-2)}function sg(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,ng).join("")}async function ig(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function ag(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await ig(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function fr(e,t,r=!1){const n=sg();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Ih(e,`${t}-code-verifier`,s);const i=await ag(n);return[i,n===i?"plain":"s256"]}const og=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function lg(e){const t=e.headers.get(co);if(!t||!t.match(og))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function ug(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function cg(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const dg=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function pr(e){if(!dg.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var hg=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Jt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),fg=[502,503,504];async function Fu(e){var t;if(!eg(e))throw new ho(Jt(e),0);if(fg.includes(e.status))throw new ho(Jt(e),e.status);let r;try{r=await e.json()}catch(i){throw new Th(Jt(i),i)}let n;const s=lg(e);if(s&&s.getTime()>=Ph["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Du(Jt(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new wt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Du(Jt(r),e.status,r.weak_password.reasons);throw new zm(Jt(r),e.status||500,n)}const pg=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function L(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[co]||(i[co]=Ph["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",u=await mg(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function mg(e,t,r,n,s,i){const a=pg(t,n,s,i);let l;try{l=await e(r,Object.assign({},a))}catch(u){throw console.error(u),new ho(Jt(u),0)}if(l.ok||await Fu(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(u){await Fu(u)}}function it(e){var t;let r=null;xg(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Ym(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Bu(e){const t=it(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Nt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function gg(e){return{data:e,error:null}}function yg(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=hg(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},u=Object.assign({},a);return{data:{properties:l,user:u},error:null}}function vg(e){return e}function xg(e){return e.access_token&&e.refresh_token&&e.expires_in}const ca=["global","local","others"];var wg=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class kg{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Ah(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=ca[0]){if(ca.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ca.join(", ")}`);try{return await L(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if($(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await L(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Nt})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=wg(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await L(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:yg,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if($(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await L(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Nt})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,l,u;try{const c={nextPage:null,lastPage:0,total:0},d=await L(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:vg});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,y=(u=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return y.length>0&&(y.forEach(v=>{const x=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(v.split(";")[1].split("=")[1]);c[`${k}Page`]=x}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if($(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){pr(t);try{return await L(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Nt})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){pr(t);try{return await L(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Nt})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){pr(t);try{return await L(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Nt})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){pr(t.userId);try{const{data:r,error:n}=await L(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if($(r))return{data:null,error:r};throw r}}async _deleteFactor(t){pr(t.userId),pr(t.id);try{return{data:await L(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if($(r))return{data:null,error:r};throw r}}}const _g={getItem:e=>bn()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{bn()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{bn()&&globalThis.localStorage.removeItem(e)}};function Vu(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function bg(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const mr={debug:!!(globalThis&&bn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Rh extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class jg extends Rh{}async function Sg(e,t,r){mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),mr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new jg(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(mr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}bg();const Ng={url:$m,storageKey:Lm,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Dm,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Hu(e,t,r){return await r()}class Fn{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Fn.nextInstanceID,Fn.nextInstanceID+=1,this.instanceID>0&&qe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Ng),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new kg({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Ah(s.fetch),this.lock=s.lock||Hu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:qe()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Sg:this.lock=Hu,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:bn()?this.storage=_g:(this.memoryStorage={},this.storage=Vu(this.memoryStorage)):(this.memoryStorage={},this.storage=Vu(this.memoryStorage)),qe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ch}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Zm(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),qe()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Vm(i)){const u=(t=i.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return $(r)?{error:r}:{error:new Th("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:it}),{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const u=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if($(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let y=null,v=null;this.flowType==="pkce"&&([y,v]=await fr(this.storage,this.storageKey)),i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:y,code_challenge_method:v},xform:it})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:it})}else throw new ys("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const u=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if($(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:l}=t;r=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Bu})}else if("phone"in t){const{phone:i,password:a,options:l}=t;r=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Bu})}else throw new ys("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new gs}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if($(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,a,l,u,c,d,h,f,y;let v,x;if("message"in t)v=t.message,x=t.signature;else{const{chain:k,wallet:g,statement:p,options:m}=t;let w;if(qe())if(typeof g=="object")w=g;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))w=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=g}const _=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){const S=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),p?{statement:p}:null));let E;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")E=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)E=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)v=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),x=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${_.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(n=m==null?void 0:m.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((c=m==null?void 0:m.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((h=(d=m==null?void 0:m.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...m.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const S=await w.signMessage(new TextEncoder().encode(v),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=S}}try{const{data:k,error:g}=await L(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Jm(x)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:it});if(g)throw g;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new gs}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:g})}catch(k){if($(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(t){const r=await xs(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await L(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:it});if(await ws(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new gs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if($(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,l=await L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:it}),{data:u,error:c}=l;return c?{data:{user:null,session:null},error:c}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new gs}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:c})}catch(r){if($(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:l,options:u}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await fr(this.storage,this.storageKey));const{error:h}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:u}=t,{data:c,error:d}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(a=u==null?void 0:u.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new ys("You must provide either an email or phone number.")}catch(l){if($(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await L(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:it});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const u=a.session,c=a.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if($(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await fr(this.storage,this.storageKey)),await L(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:gg})}catch(i){if($(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new wt;const{error:s}=await L(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if($(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await L(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:l}=await L(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new ys("You must provide either an email or phone number and a type")}catch(r){if($(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await xs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<oa:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(u,c,d)=>(!a&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,c,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Nt}):await this._useSession(async r=>{var n,s,i;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new wt}:await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Nt})})}catch(r){if($(r))return Bm(r)&&(await this._removeSession(),await ws(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new wt;const a=s.session;let l=null,u=null;this.flowType==="pkce"&&t.email!=null&&([l,u]=await fr(this.storage,this.storageKey));const{data:c,error:d}=await L(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:u}),jwt:a.access_token,xform:Nt});if(d)throw d;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new wt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=ua(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{session:l,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:u}=await this._getUser(t.access_token);if(u)throw u;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if($(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:l}=r;if(l)throw l;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new wt;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if($(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!qe())throw new vs("No browser detected.");if(t.error||t.error_description||t.error_code)throw new vs(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Lu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new vs("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Lu("No code detected.");const{data:p,error:m}=await this._exchangeCodeForSession(t.code);if(m)throw m;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:u,token_type:c}=t;if(!i||!l||!a||!c)throw new vs("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;u&&(f=parseInt(u));const y=f-d;y*1e3<=gr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const v=f-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,d);const{data:x,error:k}=await this._getUser(i);if(k)throw k;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:a,token_type:c,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(n){if($(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await xs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(Fm(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await ws(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Xm(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await fr(this.storage,this.storageKey,!0));try{return await L(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if($(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if($(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,l,u,c,d;const{data:h,error:f}=i;if(f)throw f;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await L(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return qe()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if($(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await L(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if($(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await rg(async s=>(s>0&&await tg(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await L(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:it})),(s,i)=>{const a=200*Math.pow(2,s);return i&&la(i)&&Date.now()+a-n<gr})}catch(n){if(this._debug(r,"error",n),$(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),qe()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await xs(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<oa;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${oa}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),la(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new wt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Oi;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new wt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),$(i)){const a={session:null,error:i};return la(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(u){i.push(u)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Ih(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await ws(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&qe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),gr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/gr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${gr}ms, refresh threshold is ${uo} ticks`),s<=uo&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Rh)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!qe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await fr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await L(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if($(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:u,error:c}=await L(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(r){if($(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:a,error:l}=await L(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if($(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await L(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if($(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=ua(s.access_token);let l=null;a.aal&&(l=a.aal);let u=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const d=a.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n||(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+Mm>Date.now()))return n;const{data:s,error:i}=await L(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new _n("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(a=>a.kid===t),!n)throw new _n("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:y,error:v}=await this.getSession();if(v||!y.session)return{data:null,error:v};n=y.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:u}}=ua(n);if(ug(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:i,header:s,signature:a},error:null}}const c=cg(s.alg),d=await this.fetchJwk(s.kid,r),h=await crypto.subtle.importKey("jwk",d,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,a,Qm(`${l}.${u}`)))throw new _n("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if($(n))return{data:null,error:n};throw n}}}Fn.nextInstanceID=0;const Eg=Fn;class Cg extends Eg{constructor(t){super(t)}}var Pg=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{c(n.next(d))}catch(h){a(h)}}function u(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};class Tg{constructor(t,r,n){var s,i,a;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=Im(t),u=new URL(l);this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const c=`sb-${u.hostname.split(".")[0]}-auth-token`,d={db:Sm,realtime:Em,auth:Object.assign(Object.assign({},Nm),{storageKey:c}),global:jm},h=Rm(n??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=h.auth)!==null&&a!==void 0?a:{},this.headers,h.global.fetch),this.fetch=Om(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Kp(new URL("rest/v1",u).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new bp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new km(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Pg(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:a,lock:l,debug:u},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Cg({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:a,lock:l,debug:u,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new lm(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Og=(e,t,r)=>new Tg(e,t,r),Ag="https://rjqmlepvznkjzjoehnnh.supabase.co",Ig="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJqcW1sZXB2em5ranpqb2Vobm5oIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTEzMDYxOTMsImV4cCI6MjA2Njg4MjE5M30.8OVSCaaFo16fH0UidObZeSIBSZef8wMCeIimzmhym4E",re=Og(Ag,Ig),ii=e=>({id:e.id,name:e.name,email:e.email,type:e.type,points:e.points,createdAt:e.created_at}),da=e=>({id:e.id,name:e.name,description:e.description,price:e.price,duration:e.duration,features:e.features,pointsReward:e.points_reward,isActive:e.is_active,createdAt:e.created_at}),Wu=e=>({id:e.id,planId:e.plan_id,code:e.code,isUsed:e.is_used,usedBy:e.used_by||void 0,usedAt:e.used_at||void 0,createdAt:e.created_at}),qu=e=>({id:e.id,clientId:e.client_id,planId:e.plan_id,codeId:e.code_id,amount:e.amount,pointsEarned:e.points_earned,status:e.status,createdAt:e.created_at}),Ku=e=>({id:e.id,name:e.name,description:e.description,price:e.price,duration:e.duration,features:e.features,points_reward:e.pointsReward,is_active:e.isActive,created_at:e.createdAt}),$h=I.createContext(void 0),Ht=()=>{const e=I.useContext($h);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Rg=({children:e})=>{const[t,r]=I.useState(null),[n,s]=I.useState(!0);I.useEffect(()=>{i()},[]);const i=async()=>{try{s(!0);const{data:{session:f},error:y}=await re.auth.getSession();y?console.error("Error getting session:",y):f!=null&&f.user&&await a(f.user);const{data:{subscription:v}}=re.auth.onAuthStateChange(async(x,k)=>{var g;console.log("Auth state changed:",x,(g=k==null?void 0:k.user)==null?void 0:g.email),x==="SIGNED_IN"&&(k!=null&&k.user)?await a(k.user):x==="SIGNED_OUT"&&(r(null),localStorage.removeItem("currentUser"))});return()=>{v.unsubscribe()}}catch(f){console.error("Error initializing auth:",f)}finally{s(!1)}},a=async f=>{var y,v;try{const{data:x,error:k}=await re.from("users").select("*").eq("id",f.id).single();if(k&&k.code==="PGRST116"){const g={id:f.id,name:((y=f.user_metadata)==null?void 0:y.name)||((v=f.email)==null?void 0:v.split("@")[0])||"User",email:f.email,type:f.email==="admin@iptv.com"?"admin":"client",points:0},{data:p,error:m}=await re.from("users").insert(g).select().single();if(m){console.error("Error creating user profile:",m);return}const w=ii(p);r(w),localStorage.setItem("currentUser",JSON.stringify(w))}else if(k)console.error("Error fetching user profile:",k);else if(x){const g=ii(x);r(g),localStorage.setItem("currentUser",JSON.stringify(g))}}catch(x){console.error("Error handling auth user:",x)}},l=async()=>{try{console.log("Creating admin user...");const{data:f,error:y}=await re.auth.signUp({email:"admin@iptv.com",password:"admin123",options:{data:{name:"Administrator"}}});return y?(console.error("Error creating admin user:",y),!1):f.user?(console.log("Admin user created successfully"),!0):!1}catch(f){return console.error("Error creating admin user:",f),!1}},h={user:t,login:async(f,y)=>{try{s(!0);const{data:v,error:x}=await re.auth.signInWithPassword({email:f,password:y});if(x){if(console.error("Login error:",x.message),f==="admin@iptv.com"&&y==="admin123"&&x.message.includes("Invalid login credentials")&&(console.log("Admin user not found, attempting to create..."),await l())){await new Promise(m=>setTimeout(m,1e3));const{data:g,error:p}=await re.auth.signInWithPassword({email:f,password:y});if(p)return console.error("Retry login error:",p.message),!1;if(g.user)return await a(g.user),!0}return!1}return v.user?(await a(v.user),!0):!1}catch(v){return console.error("Login error:",v),!1}finally{s(!1)}},logout:async()=>{try{const{error:f}=await re.auth.signOut();f&&console.error("Logout error:",f)}catch(f){console.error("Logout error:",f)}finally{r(null),localStorage.removeItem("currentUser")}},register:async(f,y,v)=>{try{const{data:x,error:k}=await re.auth.signUp({email:y,password:v,options:{data:{name:f}}});return k?(console.error("Registration error:",k.message),!1):!!x.user}catch(x){return console.error("Registration error:",x),!1}},loading:n};return o.jsx($h.Provider,{value:h,children:e})},Lh=I.createContext(void 0),vt=()=>{const e=I.useContext(Lh);if(!e)throw new Error("useApp must be used within an AppProvider");return e},$g=({children:e})=>{const[t,r]=I.useState([]),[n,s]=I.useState([]),[i,a]=I.useState([]),[l,u]=I.useState([]),[c,d]=I.useState(!0);I.useEffect(()=>{h()},[]);const h=async()=>{try{d(!0),await Promise.all([y(),v(),x(),k()])}catch(b){console.error("Error loading data:",b)}finally{d(!1)}},f=async()=>{console.log("Refreshing all data from Supabase..."),await h()},y=async()=>{try{const{data:b,error:O}=await re.from("users").select("*").order("created_at",{ascending:!1});if(O){console.error("Error loading users:",O);return}r((b==null?void 0:b.map(ii))||[])}catch(b){console.error("Error loading users:",b)}},v=async()=>{try{const{data:b,error:O}=await re.from("plans").select("*").order("created_at",{ascending:!1});if(O){console.error("Error loading plans:",O);return}const C=(b==null?void 0:b.map(da))||[];console.log("Loaded plans from Supabase:",C.length),s(C)}catch(b){console.error("Error loading plans:",b)}},x=async()=>{try{const{data:b,error:O}=await re.from("codes").select("*").order("created_at",{ascending:!1});if(O){console.error("Error loading codes:",O);return}a((b==null?void 0:b.map(Wu))||[])}catch(b){console.error("Error loading codes:",b)}},k=async()=>{try{const{data:b,error:O}=await re.from("purchases").select("*").order("created_at",{ascending:!1});if(O){console.error("Error loading purchases:",O);return}u((b==null?void 0:b.map(qu))||[])}catch(b){console.error("Error loading purchases:",b)}},g=async b=>{try{const O=Ku({...b,id:void 0,createdAt:new Date().toISOString()});console.log("Creating plan with data:",O);const{data:C,error:M}=await re.from("plans").insert(O).select().single();if(M)return console.error("Error creating plan:",M),!1;console.log("Plan created successfully:",C);const te=da(C);return s(ae=>[te,...ae]),setTimeout(()=>{console.log("Refreshing data after plan creation..."),f()},1e3),!0}catch(O){return console.error("Error creating plan:",O),!1}},p=async(b,O)=>{try{const C=Ku(O),{data:M,error:te}=await re.from("plans").update(C).eq("id",b).select().single();if(te)return console.error("Error updating plan:",te),!1;const ae=da(M);return s(pe=>pe.map(T=>T.id===b?ae:T)),setTimeout(()=>{f()},500),!0}catch(C){return console.error("Error updating plan:",C),!1}},m=async b=>{try{const{error:O}=await re.from("plans").delete().eq("id",b);if(O){console.error("Error deleting plan:",O);return}s(C=>C.filter(M=>M.id!==b)),a(C=>C.filter(M=>M.planId!==b)),setTimeout(()=>{f()},500)}catch(O){console.error("Error deleting plan:",O)}},w=async(b,O)=>{try{const C=O.map(pe=>({plan_id:b,code:pe.trim(),is_used:!1})),{data:M,error:te}=await re.from("codes").insert(C).select();if(te){console.error("Error adding codes:",te);return}const ae=(M==null?void 0:M.map(Wu))||[];a(pe=>[...ae,...pe]),setTimeout(()=>{f()},500)}catch(C){console.error("Error adding codes:",C)}},_=async(b,O)=>{try{const C=n.find(B=>B.id===O);if(!C)return console.error("Plan not found:",O),null;const M=i.find(B=>B.planId===O&&!B.isUsed);if(!M)return console.error("No available codes for plan:",O),null;const{error:te}=await re.from("codes").update({is_used:!0,used_by:b,used_at:new Date().toISOString()}).eq("id",M.id);if(te)return console.error("Error updating code:",te),null;const{data:ae,error:pe}=await re.from("purchases").insert({client_id:b,plan_id:O,code_id:M.id,amount:C.price,points_earned:C.pointsReward,status:"completed"}).select().single();if(pe)return console.error("Error creating purchase:",pe),null;await S(b,C.pointsReward);const T={...M,isUsed:!0,usedBy:b,usedAt:new Date().toISOString()};a(B=>B.map(N=>N.id===M.id?T:N));const z=qu(ae);return u(B=>[z,...B]),setTimeout(()=>{f()},500),z}catch(C){return console.error("Error purchasing plan:",C),null}},S=async(b,O)=>{try{const C=t.find(z=>z.id===b);if(!C){console.error("User not found:",b);return}const M=C.points+O,{data:te,error:ae}=await re.from("users").update({points:M}).eq("id",b).select().single();if(ae){console.error("Error updating user points:",ae);return}const pe=ii(te);r(z=>z.map(B=>B.id===b?pe:B));const T=localStorage.getItem("currentUser");if(T)try{JSON.parse(T).id===b&&localStorage.setItem("currentUser",JSON.stringify(pe))}catch(z){console.error("Error updating session user:",z)}}catch(C){console.error("Error updating user points:",C)}},E={users:t,plans:n,codes:i,purchases:l,loading:c,createPlan:g,updatePlan:p,deletePlan:m,addCodes:w,purchasePlan:_,updateUserPoints:S};return o.jsx(Lh.Provider,{value:E,children:e})},Dh=I.createContext(void 0),Lg=()=>{const e=I.useContext(Dh);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},Dg=({children:e})=>{const[t,r]=I.useState(()=>{const a=localStorage.getItem("theme");return a||(window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark")});I.useEffect(()=>{const a=document.documentElement;a.classList.remove("light","dark"),a.classList.add(t),localStorage.setItem("theme",t),a.classList.add("theme-toggle-enter");const l=setTimeout(()=>{a.classList.remove("theme-toggle-enter")},300);return()=>clearTimeout(l)},[t]);const i={theme:t,toggleTheme:()=>{r(a=>a==="light"?"dark":"light")},setTheme:a=>{r(a)}};return o.jsx(Dh.Provider,{value:i,children:e})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ug={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),U=(e,t)=>{const r=I.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:u,...c},d)=>I.createElement("svg",{ref:d,...Ug,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Mg(e)}`,l].join(" "),...c},[...t.map(([h,f])=>I.createElement(h,f)),...Array.isArray(u)?u:[u]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=U("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=U("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=U("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=U("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=U("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=U("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=U("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=U("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=U("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=U("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=U("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=U("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=U("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=U("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=U("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=U("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=U("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=U("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=U("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qu=U("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=U("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=U("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=U("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=U("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=U("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=U("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=U("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=U("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=U("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=U("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=U("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yu=U("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=U("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=U("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=U("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=U("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=U("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Fh=()=>{const{theme:e,toggleTheme:t}=Lg();return o.jsxs("button",{onClick:t,className:"relative flex items-center justify-center w-12 h-6 rounded-full bg-gray-300 dark:bg-gray-600 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800","aria-label":`Switch to ${e==="light"?"dark":"light"} mode`,title:`Switch to ${e==="light"?"dark":"light"} mode`,children:[o.jsx("div",{className:`absolute w-5 h-5 bg-white rounded-full shadow-md transform transition-transform duration-300 flex items-center justify-center ${e==="dark"?"translate-x-3":"-translate-x-3"}`,children:e==="light"?o.jsx(Ju,{className:"w-3 h-3 text-yellow-500"}):o.jsx(Qu,{className:"w-3 h-3 text-blue-500"})}),o.jsxs("div",{className:"absolute inset-0 flex items-center justify-between px-1",children:[o.jsx(Ju,{className:`w-3 h-3 transition-opacity duration-300 ${e==="light"?"opacity-100 text-yellow-600":"opacity-30 text-gray-400"}`}),o.jsx(Qu,{className:`w-3 h-3 transition-opacity duration-300 ${e==="dark"?"opacity-100 text-blue-400":"opacity-30 text-gray-400"}`})]})]})},Zg=({children:e})=>{const{user:t,logout:r}=Ht();return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-blue-50 to-slate-100 dark:from-slate-900 dark:via-purple-900 dark:to-slate-900 transition-all duration-300",children:[t&&o.jsx("header",{className:"bg-white/80 dark:bg-white/10 backdrop-blur-md border-b border-gray-200 dark:border-white/20 shadow-sm dark:shadow-gray-900/20",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center py-4",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center shadow-lg",children:o.jsx(zh,{className:"w-5 h-5 text-white"})}),o.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"IPTV Reseller"})]}),o.jsxs("div",{className:"hidden md:flex items-center space-x-2 bg-gray-100 dark:bg-white/20 rounded-full px-3 py-1 shadow-sm",children:[o.jsx(Jn,{className:"w-4 h-4 text-gray-700 dark:text-white"}),o.jsxs("span",{className:"text-gray-700 dark:text-white text-sm",children:[t.name," (",t.type==="admin"?"Admin":"Cliente",")"]}),t.type==="client"&&o.jsxs("span",{className:"bg-yellow-400 dark:bg-yellow-500 text-gray-900 dark:text-black text-xs px-2 py-0.5 rounded-full font-medium shadow-sm",children:[t.points," pts"]})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Fh,{}),o.jsxs("button",{onClick:r,className:"flex items-center space-x-2 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors shadow-md hover:shadow-lg",children:[o.jsx(qg,{className:"w-4 h-4"}),o.jsx("span",{children:"Sair"})]})]})]})})}),o.jsx("main",{className:"flex-1",children:e})]})},ey=({onSwitchToRegister:e})=>{const[t,r]=I.useState(""),[n,s]=I.useState(""),[i,a]=I.useState(!1),[l,u]=I.useState(!1),[c,d]=I.useState(""),{login:h}=Ht(),f=async y=>{y.preventDefault(),u(!0),d("");try{await h(t,n)||d(t==="admin@iptv.com"?"Criando usurio administrador... Tente novamente em alguns segundos.":"Email ou senha invlidos. Verifique suas credenciais ou cadastre-se.")}catch(v){console.error("Login error:",v),d("Erro ao fazer login. Tente novamente.")}finally{u(!1)}};return o.jsxs("div",{className:"w-full",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg",children:o.jsx(zh,{className:"w-8 h-8 text-white"})})}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"IPTV Reseller"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Faa login para continuar"})]}),o.jsxs("form",{onSubmit:f,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(xl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 dark:text-gray-400"}),o.jsx("input",{id:"email",type:"email",value:t,onChange:y=>r(y.target.value),disabled:l,className:"w-full pl-10 pr-4 py-3 bg-gray-50 dark:bg-white/20 border border-gray-300 dark:border-white/30 rounded-lg text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"seu@email.com",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Senha"}),o.jsxs("div",{className:"relative",children:[o.jsx(go,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 dark:text-gray-400"}),o.jsx("input",{id:"password",type:i?"text":"password",value:n,onChange:y=>s(y.target.value),disabled:l,className:"w-full pl-10 pr-12 py-3 bg-gray-50 dark:bg-white/20 border border-gray-300 dark:border-white/30 rounded-lg text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"",required:!0}),o.jsx("button",{type:"button",onClick:()=>a(!i),disabled:l,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:i?o.jsx(fo,{className:"w-5 h-5"}):o.jsx(po,{className:"w-5 h-5"})})]})]}),c&&o.jsxs("div",{className:"bg-red-50 dark:bg-red-500/20 border border-red-200 dark:border-red-500 rounded-lg p-3 flex items-start space-x-2",children:[o.jsx(yl,{className:"w-5 h-5 text-red-500 dark:text-red-400 flex-shrink-0 mt-0.5"}),o.jsx("div",{className:"text-red-700 dark:text-red-200 text-sm",children:c})]}),o.jsx("button",{type:"submit",disabled:l,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-medium py-3 px-4 rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl flex items-center justify-center space-x-2",children:l?o.jsxs(o.Fragment,{children:[o.jsx(Hr,{className:"w-4 h-4 animate-spin"}),o.jsx("span",{children:"Entrando..."})]}):o.jsx("span",{children:"Entrar"})})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs("button",{onClick:e,disabled:l,className:"flex items-center justify-center space-x-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed mx-auto",children:[o.jsx(oi,{className:"w-4 h-4"}),o.jsx("span",{children:"No tem uma conta? Cadastre-se"})]})}),o.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-white/20",children:o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-500/20 border border-blue-200 dark:border-blue-500/30 rounded-lg p-4",children:[o.jsx("h3",{className:"text-gray-900 dark:text-white font-medium mb-2",children:"Credenciais de teste:"}),o.jsxs("div",{className:"space-y-1 text-sm text-gray-700 dark:text-gray-300",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Admin:"})," admin@iptv.com / admin123"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Cliente:"})," Cadastre-se ou crie via admin"]})]}),o.jsx("div",{className:"mt-2 text-xs text-gray-600 dark:text-gray-400",children:o.jsx("p",{children:"* O usurio admin ser criado automaticamente no primeiro login"})})]})})]})},ty=({onSwitchToLogin:e})=>{const[t,r]=I.useState({name:"",email:"",password:"",confirmPassword:""}),[n,s]=I.useState(!1),[i,a]=I.useState(!1),[l,u]=I.useState(!1),[c,d]=I.useState(""),[h,f]=I.useState(""),{register:y}=Ht(),v=async k=>{if(k.preventDefault(),u(!0),d(""),f(""),t.password!==t.confirmPassword){d("As senhas no coincidem"),u(!1);return}if(t.password.length<6){d("A senha deve ter pelo menos 6 caracteres"),u(!1);return}if(!t.name.trim()){d("O nome  obrigatrio"),u(!1);return}await y(t.name.trim(),t.email,t.password)?(f("Conta criada com sucesso! Verifique seu email para confirmar a conta e depois faa login."),r({name:"",email:"",password:"",confirmPassword:""}),setTimeout(()=>{e()},3e3)):d("Erro ao criar conta. Verifique se o email no est em uso."),u(!1)},x=(k,g)=>{r(p=>({...p,[k]:g})),c&&d("")};return o.jsxs("div",{className:"w-full",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-green-500 to-blue-600 rounded-2xl flex items-center justify-center shadow-lg",children:o.jsx(oi,{className:"w-8 h-8 text-white"})})}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Criar Conta"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Cadastre-se para acessar nossos planos IPTV"})]}),o.jsxs("form",{onSubmit:v,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Nome Completo"}),o.jsxs("div",{className:"relative",children:[o.jsx(Jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 dark:text-gray-400"}),o.jsx("input",{id:"name",type:"text",value:t.name,onChange:k=>x("name",k.target.value),disabled:l,className:"w-full pl-10 pr-4 py-3 bg-gray-50 dark:bg-white/20 border border-gray-300 dark:border-white/30 rounded-lg text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"Seu nome completo",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(xl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 dark:text-gray-400"}),o.jsx("input",{id:"email",type:"email",value:t.email,onChange:k=>x("email",k.target.value),disabled:l,className:"w-full pl-10 pr-4 py-3 bg-gray-50 dark:bg-white/20 border border-gray-300 dark:border-white/30 rounded-lg text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"seu@email.com",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Senha"}),o.jsxs("div",{className:"relative",children:[o.jsx(go,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 dark:text-gray-400"}),o.jsx("input",{id:"password",type:n?"text":"password",value:t.password,onChange:k=>x("password",k.target.value),disabled:l,className:"w-full pl-10 pr-12 py-3 bg-gray-50 dark:bg-white/20 border border-gray-300 dark:border-white/30 rounded-lg text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"",required:!0,minLength:6}),o.jsx("button",{type:"button",onClick:()=>s(!n),disabled:l,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:n?o.jsx(fo,{className:"w-5 h-5"}):o.jsx(po,{className:"w-5 h-5"})})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Confirmar Senha"}),o.jsxs("div",{className:"relative",children:[o.jsx(go,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 dark:text-gray-400"}),o.jsx("input",{id:"confirmPassword",type:i?"text":"password",value:t.confirmPassword,onChange:k=>x("confirmPassword",k.target.value),disabled:l,className:"w-full pl-10 pr-12 py-3 bg-gray-50 dark:bg-white/20 border border-gray-300 dark:border-white/30 rounded-lg text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"",required:!0,minLength:6}),o.jsx("button",{type:"button",onClick:()=>a(!i),disabled:l,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:i?o.jsx(fo,{className:"w-5 h-5"}):o.jsx(po,{className:"w-5 h-5"})})]})]}),c&&o.jsx("div",{className:"bg-red-50 dark:bg-red-500/20 border border-red-200 dark:border-red-500 rounded-lg p-3 text-red-700 dark:text-red-200 text-sm",children:c}),h&&o.jsx("div",{className:"bg-green-50 dark:bg-green-500/20 border border-green-200 dark:border-green-500 rounded-lg p-3 text-green-700 dark:text-green-200 text-sm",children:h}),o.jsx("button",{type:"submit",disabled:l,className:"w-full bg-gradient-to-r from-green-500 to-blue-600 hover:from-green-600 hover:to-blue-700 text-white font-medium py-3 px-4 rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl flex items-center justify-center space-x-2",children:l?o.jsxs(o.Fragment,{children:[o.jsx(Hr,{className:"w-4 h-4 animate-spin"}),o.jsx("span",{children:"Criando conta..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(oi,{className:"w-4 h-4"}),o.jsx("span",{children:"Criar Conta"})]})})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs("button",{onClick:e,disabled:l,className:"flex items-center justify-center space-x-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed mx-auto",children:[o.jsx(zg,{className:"w-4 h-4"}),o.jsx("span",{children:"J tem uma conta? Faa login"})]})}),o.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-white/20",children:o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-500/20 border border-blue-200 dark:border-blue-500/30 rounded-lg p-4",children:[o.jsx("h3",{className:"text-gray-900 dark:text-white font-medium mb-2",children:"Sobre o cadastro:"}),o.jsxs("div",{className:"space-y-1 text-sm text-gray-700 dark:text-gray-300",children:[o.jsx("p",{children:" Voc receber um email de confirmao"}),o.jsx("p",{children:" Sua conta ser criada como cliente"}),o.jsx("p",{children:" Voc poder comprar planos IPTV imediatamente"}),o.jsx("p",{children:" Ganhe pontos a cada compra realizada"})]})]})})]})},ry=()=>{const[e,t]=I.useState(!0),{loading:r}=Ht(),n=()=>t(!0),s=()=>t(!1);return r?o.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 bg-gradient-to-br from-slate-100 via-blue-50 to-slate-100 dark:from-slate-900 dark:via-purple-900 dark:to-slate-900",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Hr,{className:"w-8 h-8 text-blue-500 animate-spin"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300 text-lg",children:"Carregando..."})]})}):o.jsxs("div",{className:"min-h-screen flex items-center justify-center px-4 bg-gradient-to-br from-slate-100 via-blue-50 to-slate-100 dark:from-slate-900 dark:via-purple-900 dark:to-slate-900 transition-all duration-300",children:[o.jsx("div",{className:"absolute top-4 right-4",children:o.jsx(Fh,{})}),o.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-white/10 backdrop-blur-md rounded-2xl shadow-2xl dark:shadow-gray-900/50 border border-gray-200 dark:border-white/20 p-8",children:[o.jsx("div",{className:"flex justify-center mb-6",children:o.jsxs("div",{className:"bg-gray-100 dark:bg-white/10 rounded-lg p-1 flex border border-gray-200 dark:border-white/20",children:[o.jsx("button",{onClick:n,className:`px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 ${e?"bg-white dark:bg-white/20 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200"}`,children:"Login"}),o.jsx("button",{onClick:s,className:`px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 ${e?"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200":"bg-white dark:bg-white/20 text-gray-900 dark:text-white shadow-sm"}`,children:"Cadastro"})]})}),o.jsx("div",{className:"transition-all duration-300",children:e?o.jsx(ey,{onSwitchToRegister:s}):o.jsx(ty,{onSwitchToLogin:n})})]})]})},ny=({plan:e,onClose:t,onImportSuccess:r})=>{const[n,s]=I.useState(""),[i,a]=I.useState(!1),l=n.split(`
`).filter(d=>d.trim()),u=l.length,c=async()=>{u!==0&&(a(!0),await new Promise(d=>setTimeout(d,1e3)),r(e.id,l),a(!1),t())};return o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:o.jsx("div",{className:"bg-white dark:bg-white/10 backdrop-blur-md rounded-2xl border border-gray-200 dark:border-white/20 max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl flex items-center justify-center",children:o.jsx(yo,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Importar Cdigos"}),o.jsxs("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:["Plano: ",e.name]})]})]}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 dark:hover:bg-white/20 rounded-lg transition-colors",disabled:i,children:o.jsx(Xg,{className:"w-5 h-5 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-white"})})]}),o.jsx("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-500/20 rounded-lg border border-blue-200 dark:border-blue-500/30",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(yl,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-blue-800 dark:text-blue-200 font-medium mb-2",children:"Como importar cdigos:"}),o.jsxs("ul",{className:"text-blue-700 dark:text-blue-200 text-sm space-y-1",children:[o.jsx("li",{children:" Cole um cdigo por linha no campo abaixo"}),o.jsx("li",{children:" Certifique-se de que os cdigos so nicos e vlidos"}),o.jsx("li",{children:" Linhas em branco sero ignoradas automaticamente"}),o.jsx("li",{children:" Os cdigos sero vinculados ao plano selecionado"})]})]})]})}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"Cdigos IPTV"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Hg,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"}),o.jsxs("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:[u," ",u===1?"cdigo":"cdigos"]})]})]}),o.jsx("textarea",{value:n,onChange:d=>s(d.target.value),placeholder:`IPTV-ABC123-DEF456
IPTV-GHI789-JKL012
IPTV-MNO345-PQR678

Cole seus cdigos aqui, um por linha...`,className:"w-full px-4 py-3 bg-gray-50 dark:bg-white/20 border border-gray-300 dark:border-white/30 rounded-lg text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",rows:12,disabled:i})]}),u>0&&o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-gray-900 dark:text-white font-medium mb-3",children:"Prvia dos cdigos a serem importados:"}),o.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 rounded-lg p-4 max-h-32 overflow-y-auto border border-gray-200 dark:border-white/10",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:l.slice(0,8).map((d,h)=>o.jsx("div",{className:"text-gray-700 dark:text-gray-300 text-sm font-mono bg-white dark:bg-white/10 px-2 py-1 rounded border border-gray-200 dark:border-white/20",children:d},h))}),u>8&&o.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-2 text-center",children:["E mais ",u-8," cdigos..."]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{onClick:t,disabled:i,className:"px-6 py-2 bg-gray-500 hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-lg transition-colors",children:"Cancelar"}),o.jsx("button",{onClick:c,disabled:u===0||i,className:"flex items-center space-x-2 px-6 py-2 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-lg transition-colors shadow-lg hover:shadow-xl",children:i?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),o.jsx("span",{children:"Importando..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(yo,{className:"w-4 h-4"}),o.jsxs("span",{children:["Importar ",u," ",u===1?"Cdigo":"Cdigos"]})]})})]})]})})})},sy=()=>{const{plans:e,codes:t,loading:r,createPlan:n,updatePlan:s,deletePlan:i,addCodes:a}=vt(),[l,u]=I.useState(!1),[c,d]=I.useState(null),[h,f]=I.useState(!1),[y,v]=I.useState(null),[x,k]=I.useState(""),[g,p]=I.useState(""),[m,w]=I.useState(!1),[_,S]=I.useState({name:"",description:"",price:"",duration:"",features:"",pointsReward:"",isActive:!0}),E=async T=>{T.preventDefault(),p(""),w(!0);try{const z=parseFloat(_.price);if(isNaN(z)||z<0){p("O preo deve ser um nmero vlido e no negativo.");return}const B=parseInt(_.pointsReward);if(isNaN(B)||B<0){p("Os pontos de recompensa devem ser um nmero inteiro vlido e no negativo.");return}if(!_.name.trim()){p("O nome do plano  obrigatrio.");return}if(!_.description.trim()){p("A descrio do plano  obrigatria.");return}if(!_.duration.trim()){p("A durao do plano  obrigatria.");return}if(!_.features.trim()){p("Pelo menos um recurso deve ser especificado.");return}const N={name:_.name.trim(),description:_.description.trim(),price:z,duration:_.duration.trim(),features:_.features.split(`
`).filter(R=>R.trim()).map(R=>R.trim()),pointsReward:B,isActive:_.isActive};let A=!1;if(c?(A=await s(c.id,N),A&&console.log("Plan updated successfully")):(A=await n(N),A&&console.log("Plan created successfully")),!A){p("Erro ao salvar o plano. Por favor, tente novamente.");return}p(""),b()}catch(z){console.error("Error in form submission:",z),p("Erro inesperado ao salvar o plano. Por favor, tente novamente.")}finally{w(!1)}},b=()=>{S({name:"",description:"",price:"",duration:"",features:"",pointsReward:"",isActive:!0}),u(!1),d(null),p("")},O=T=>{S({name:T.name,description:T.description,price:T.price.toString(),duration:T.duration,features:T.features.join(`
`),pointsReward:T.pointsReward.toString(),isActive:T.isActive}),d(T),p(""),u(!0)},C=async T=>{await s(T.id,{isActive:!T.isActive})||console.error("Failed to update plan status")},M=(T,z)=>{a(T,z);const B=e.find(N=>N.id===T);k(`${z.length} cdigos importados com sucesso para o plano "${B==null?void 0:B.name}"!`),setTimeout(()=>{k("")},5e3)},te=T=>{v(T),f(!0)},ae=()=>{f(!1),v(null)},pe=T=>{const z=t.filter(A=>A.planId===T),B=z.filter(A=>!A.isUsed).length,N=z.length;return{available:B,total:N}};return r?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Hr,{className:"w-8 h-8 text-blue-500 animate-spin"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300 text-lg",children:"Carregando planos..."})]})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Gerenciar Planos"}),o.jsxs("p",{className:"text-gray-600 dark:text-gray-400 text-sm mt-1",children:[e.length," ",e.length===1?"plano encontrado":"planos encontrados"]})]}),o.jsxs("button",{onClick:()=>u(!0),disabled:m,className:"flex items-center space-x-2 bg-blue-500 hover:bg-blue-600 disabled:bg-blue-400 disabled:cursor-not-allowed text-white px-4 py-2 rounded-lg transition-colors shadow-lg hover:shadow-xl",children:[o.jsx(Mh,{className:"w-4 h-4"}),o.jsx("span",{children:"Novo Plano"})]})]}),x&&o.jsxs("div",{className:"bg-green-50 dark:bg-green-500/20 border border-green-200 dark:border-green-500/30 rounded-lg p-4 flex items-center space-x-3",children:[o.jsx(Bg,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),o.jsx("p",{className:"text-green-800 dark:text-green-200",children:x})]}),l&&o.jsxs("div",{className:"bg-white dark:bg-white/10 backdrop-blur-md rounded-xl p-6 border border-gray-200 dark:border-white/20 shadow-lg dark:shadow-gray-900/20",children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:c?"Editar Plano":"Criar Novo Plano"}),g&&o.jsxs("div",{className:"mb-4 bg-red-50 dark:bg-red-500/20 border border-red-200 dark:border-red-500/30 rounded-lg p-4 flex items-center space-x-3",children:[o.jsx(yl,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0"}),o.jsx("p",{className:"text-red-800 dark:text-red-200",children:g})]}),o.jsxs("form",{onSubmit:E,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Nome do Plano"}),o.jsx("input",{type:"text",value:_.name,onChange:T=>S({..._,name:T.target.value}),disabled:m,className:"w-full px-3 py-2 bg-gray-50 dark:bg-white/20 border border-gray-300 dark:border-white/30 rounded-lg text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"Ex: Plano Premium",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Durao"}),o.jsx("input",{type:"text",value:_.duration,onChange:T=>S({..._,duration:T.target.value}),disabled:m,className:"w-full px-3 py-2 bg-gray-50 dark:bg-white/20 border border-gray-300 dark:border-white/30 rounded-lg text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"Ex: 30 dias",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Preo (R$)"}),o.jsx("input",{type:"number",step:"0.01",min:"0",value:_.price,onChange:T=>S({..._,price:T.target.value}),disabled:m,className:"w-full px-3 py-2 bg-gray-50 dark:bg-white/20 border border-gray-300 dark:border-white/30 rounded-lg text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"29.90",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Pontos de Recompensa"}),o.jsx("input",{type:"number",min:"0",value:_.pointsReward,onChange:T=>S({..._,pointsReward:T.target.value}),disabled:m,className:"w-full px-3 py-2 bg-gray-50 dark:bg-white/20 border border-gray-300 dark:border-white/30 rounded-lg text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"100",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Descrio"}),o.jsx("textarea",{value:_.description,onChange:T=>S({..._,description:T.target.value}),disabled:m,className:"w-full px-3 py-2 bg-gray-50 dark:bg-white/20 border border-gray-300 dark:border-white/30 rounded-lg text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",rows:3,placeholder:"Descrio do plano...",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Recursos (um por linha)"}),o.jsx("textarea",{value:_.features,onChange:T=>S({..._,features:T.target.value}),disabled:m,className:"w-full px-3 py-2 bg-gray-50 dark:bg-white/20 border border-gray-300 dark:border-white/30 rounded-lg text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",rows:4,placeholder:`Qualidade HD/4K
Mais de 1000 canais
Supporte 24/7
Sem travamento`,required:!0})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:"isActive",checked:_.isActive,onChange:T=>S({..._,isActive:T.target.checked}),disabled:m,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"}),o.jsx("label",{htmlFor:"isActive",className:"text-sm text-gray-700 dark:text-gray-200",children:"Plano ativo"})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:b,disabled:m,className:"px-4 py-2 bg-gray-500 hover:bg-gray-600 disabled:bg-gray-400 disabled:cursor-not-allowed text-white rounded-lg transition-colors",children:"Cancelar"}),o.jsx("button",{type:"submit",disabled:m,className:"flex items-center space-x-2 px-4 py-2 bg-blue-500 hover:bg-blue-600 disabled:bg-blue-400 disabled:cursor-not-allowed text-white rounded-lg transition-colors shadow-lg hover:shadow-xl",children:m?o.jsxs(o.Fragment,{children:[o.jsx(Hr,{className:"w-4 h-4 animate-spin"}),o.jsx("span",{children:"Salvando..."})]}):o.jsx("span",{children:c?"Atualizar":"Criar"})})]})]})]}),e.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Re,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg",children:"Nenhum plano criado ainda"}),o.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-sm",children:'Clique em "Novo Plano" para criar o primeiro plano'})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(T=>{const{available:z,total:B}=pe(T.id);return o.jsxs("div",{className:"bg-white dark:bg-white/10 backdrop-blur-md rounded-xl p-6 border border-gray-200 dark:border-white/20 group shadow-lg dark:shadow-gray-900/20 hover:shadow-xl dark:hover:shadow-gray-900/30 transition-shadow",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:T.name}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:T.description})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>C(T),disabled:m,className:`p-1 rounded disabled:opacity-50 disabled:cursor-not-allowed ${T.isActive?"text-green-500":"text-gray-400"}`,children:T.isActive?o.jsx(Jg,{className:"w-6 h-6"}):o.jsx(Qg,{className:"w-6 h-6"})}),o.jsx("button",{onClick:()=>O(T),disabled:m,className:"p-2 bg-blue-500 hover:bg-blue-600 disabled:bg-blue-400 disabled:cursor-not-allowed text-white rounded-lg transition-colors",children:o.jsx(Gg,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>i(T.id),disabled:m,className:"p-2 bg-red-500 hover:bg-red-600 disabled:bg-red-400 disabled:cursor-not-allowed text-white rounded-lg transition-colors",children:o.jsx(Yg,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Re,{className:"w-4 h-4 text-blue-500"}),o.jsxs("span",{className:"text-gray-700 dark:text-gray-300 text-sm",children:["R$ ",T.price.toFixed(2)]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Uh,{className:"w-4 h-4 text-green-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300 text-sm",children:T.duration})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Mt,{className:"w-4 h-4 text-yellow-500"}),o.jsxs("span",{className:"text-gray-700 dark:text-gray-300 text-sm",children:[T.pointsReward," pontos"]})]}),o.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 rounded-lg p-3 border border-gray-200 dark:border-white/10",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(gt,{className:"w-4 h-4 text-purple-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300 text-sm",children:"Cdigos"})]}),o.jsxs("span",{className:`text-sm font-medium ${z>0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[z,"/",B]})]}),o.jsx("div",{className:"w-full bg-gray-300 dark:bg-gray-700 rounded-full h-2",children:o.jsx("div",{className:`h-2 rounded-full ${z>0?"bg-green-500":"bg-red-500"}`,style:{width:B>0?`${z/B*100}%`:"0%"}})}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs mt-1",children:z>0?`${z} disponveis`:"Sem cdigos disponveis"})]}),o.jsxs("div",{className:"mt-4",children:[o.jsx("h4",{className:"text-gray-900 dark:text-white font-medium mb-2",children:"Recursos:"}),o.jsx("ul",{className:"space-y-1",children:T.features.map((N,A)=>o.jsxs("li",{className:"text-gray-700 dark:text-gray-300 text-sm flex items-center space-x-2",children:[o.jsx("div",{className:"w-1 h-1 bg-blue-500 rounded-full"}),o.jsx("span",{children:N})]},A))})]})]}),o.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-white/10 space-y-3",children:[o.jsx("div",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${T.isActive?"bg-green-100 dark:bg-green-500/20 text-green-800 dark:text-green-400 border border-green-200 dark:border-green-500/30":"bg-red-100 dark:bg-red-500/20 text-red-800 dark:text-red-400 border border-red-200 dark:border-red-500/30"}`,children:T.isActive?"Ativo":"Inativo"}),o.jsxs("button",{onClick:()=>te(T),disabled:!T.isActive||m,className:"w-full flex items-center justify-center space-x-2 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 disabled:from-gray-400 disabled:to-gray-500 disabled:cursor-not-allowed text-white px-4 py-2 rounded-lg transition-all duration-200 group-hover:shadow-lg",title:T.isActive?"Importar cdigos para este plano":"Ative o plano para importar cdigos",children:[o.jsx(yo,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:"Importar Cdigos"})]})]})]},T.id)})}),h&&y&&o.jsx(ny,{plan:y,onClose:ae,onImportSuccess:M})]})},iy=()=>{const{users:e}=vt(),t=e.filter(r=>r.type==="client");return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex justify-between items-center",children:o.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Gerenciar Clientes"})}),o.jsx("div",{className:"bg-blue-50 dark:bg-blue-500/20 border border-blue-200 dark:border-blue-500/30 rounded-xl p-6",children:o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(Wg,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"Como novos clientes se cadastram?"}),o.jsxs("div",{className:"space-y-3 text-blue-800 dark:text-blue-200",children:[o.jsxs("p",{children:["Para garantir a segurana e funcionalidade completa do sistema, novos clientes devem se cadastrar atravs da tela de login utilizando a opo ",o.jsx("strong",{children:'"Cadastro"'}),"."]}),o.jsxs("div",{className:"bg-blue-100 dark:bg-blue-500/30 rounded-lg p-4 border border-blue-300 dark:border-blue-500/50",children:[o.jsxs("h4",{className:"font-medium mb-2 flex items-center space-x-2",children:[o.jsx(Fg,{className:"w-4 h-4"}),o.jsx("span",{children:"Processo de cadastro:"})]}),o.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[o.jsx("li",{children:"Cliente acessa a tela de login"}),o.jsx("li",{children:'Clica em "Cadastro" para alternar para o formulrio de registro'}),o.jsx("li",{children:"Preenche nome completo, email e senha"}),o.jsx("li",{children:"Sistema cria automaticamente a conta com autenticao"}),o.jsx("li",{children:"Cliente pode fazer login imediatamente"})]})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(oi,{className:"w-4 h-4"}),o.jsx("span",{children:"Este mtodo garante que os clientes tenham acesso completo ao sistema, incluindo autenticao, compra de planos e histrico de transaes."})]})]})]})]})}),o.jsxs("div",{className:"bg-white dark:bg-white/10 backdrop-blur-md rounded-xl p-6 border border-gray-200 dark:border-white/20 shadow-lg dark:shadow-gray-900/20",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[o.jsx(li,{className:"w-6 h-6 text-blue-500"}),o.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:["Lista de Clientes (",t.length,")"]})]}),t.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(li,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg",children:"Nenhum cliente cadastrado"}),o.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-sm mb-4",children:"Os clientes aparecero aqui aps se cadastrarem atravs da tela de login"}),o.jsx("div",{className:"bg-gray-50 dark:bg-white/5 rounded-lg p-4 max-w-md mx-auto border border-gray-200 dark:border-white/10",children:o.jsxs("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:[o.jsx("strong",{children:"Instruo para novos clientes:"}),o.jsx("br",{}),'Acesse a tela de login e clique em "Cadastro\\" para criar uma nova conta']})})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(r=>o.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 rounded-lg p-4 border border-gray-200 dark:border-white/10",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:o.jsx(Jn,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-gray-900 dark:text-white font-semibold",children:r.name}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Cliente"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(xl,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300 text-sm",children:r.email})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(vl,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"}),o.jsxs("span",{className:"text-gray-700 dark:text-gray-300 text-sm",children:["Desde ",new Date(r.createdAt).toLocaleDateString()]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Mt,{className:"w-4 h-4 text-yellow-500"}),o.jsxs("span",{className:"text-yellow-600 dark:text-yellow-400 text-sm font-medium",children:[r.points," pontos"]})]})]}),o.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-white/10",children:o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Status:"}),o.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:"Ativo"})]})})]},r.id))})]})]})},ay=()=>{const{plans:e,codes:t,addCodes:r}=vt(),[n,s]=I.useState(""),[i,a]=I.useState(""),[l,u]=I.useState(""),[c,d]=I.useState(!1),h=v=>{if(v.preventDefault(),!n||!i.trim())return;const x=i.split(`
`).filter(k=>k.trim());r(n,x),a(""),s(""),d(!1)};t.filter(v=>{const x=e.find(k=>k.id===v.planId);return(x==null?void 0:x.name.toLowerCase().includes(l.toLowerCase()))||v.code.toLowerCase().includes(l.toLowerCase())});const y=(()=>{const v={};return e.forEach(x=>{v[x.id]=t.filter(k=>k.planId===x.id)}),v})();return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Gerenciar Cdigos"}),o.jsxs("button",{onClick:()=>d(!0),className:"flex items-center space-x-2 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors shadow-lg hover:shadow-xl",children:[o.jsx(Mh,{className:"w-4 h-4"}),o.jsx("span",{children:"Adicionar Cdigos"})]})]}),c&&o.jsxs("div",{className:"bg-white dark:bg-white/10 backdrop-blur-md rounded-xl p-6 border border-gray-200 dark:border-white/20 shadow-lg dark:shadow-gray-900/20",children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Adicionar Cdigos"}),o.jsxs("form",{onSubmit:h,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Selecionar Plano"}),o.jsxs("select",{value:n,onChange:v=>s(v.target.value),className:"w-full px-3 py-2 bg-gray-50 dark:bg-white/20 border border-gray-300 dark:border-white/30 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[o.jsx("option",{value:"",children:"Selecione um plano"}),e.filter(v=>v.isActive).map(v=>o.jsx("option",{value:v.id,className:"bg-white dark:bg-gray-800",children:v.name},v.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Cdigos (um por linha)"}),o.jsx("textarea",{value:i,onChange:v=>a(v.target.value),className:"w-full px-3 py-2 bg-gray-50 dark:bg-white/20 border border-gray-300 dark:border-white/30 rounded-lg text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",rows:8,placeholder:`IPTV-ABC123-DEF456
IPTV-GHI789-JKL012
IPTV-MNO345-PQR678`,required:!0}),o.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:["Total de cdigos: ",i.split(`
`).filter(v=>v.trim()).length]})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:()=>{d(!1),a(""),s("")},className:"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors shadow-lg hover:shadow-xl",children:"Adicionar Cdigos"})]})]})]}),o.jsxs("div",{className:"bg-white dark:bg-white/10 backdrop-blur-md rounded-xl p-6 border border-gray-200 dark:border-white/20 shadow-lg dark:shadow-gray-900/20",children:[o.jsx("div",{className:"flex items-center space-x-4 mb-6",children:o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Kg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-500 dark:text-gray-400"}),o.jsx("input",{type:"text",value:l,onChange:v=>u(v.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-white/20 border border-gray-300 dark:border-white/30 rounded-lg text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Buscar por plano ou cdigo..."})]})}),o.jsx("div",{className:"space-y-6",children:e.map(v=>{const x=y[v.id]||[],k=x.filter(g=>g.isUsed).length;return o.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 rounded-lg p-4 border border-gray-200 dark:border-white/10",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Re,{className:"w-5 h-5 text-blue-500"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:v.name})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-gray-700 dark:text-gray-300 text-sm",children:[k,"/",x.length," cdigos usados"]}),o.jsx("div",{className:"w-32 bg-gray-300 dark:bg-gray-700 rounded-full h-2 mt-1",children:o.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${x.length?k/x.length*100:0}%`}})})]})]}),x.length>0?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:x.slice(0,10).map(g=>o.jsxs("div",{className:`p-3 rounded-lg border ${g.isUsed?"bg-red-50 dark:bg-red-500/10 border-red-200 dark:border-red-500/30":"bg-green-50 dark:bg-green-500/10 border-green-200 dark:border-green-500/30"}`,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(gt,{className:`w-4 h-4 ${g.isUsed?"text-red-500":"text-green-500"}`}),o.jsx("span",{className:`text-xs px-2 py-1 rounded ${g.isUsed?"bg-red-100 dark:bg-red-500/20 text-red-700 dark:text-red-400":"bg-green-100 dark:bg-green-500/20 text-green-700 dark:text-green-400"}`,children:g.isUsed?"Usado":"Disponvel"})]}),o.jsx("p",{className:"text-gray-900 dark:text-white font-mono text-sm mt-2 truncate",children:g.code}),g.isUsed&&g.usedAt&&o.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-xs mt-1",children:["Usado em ",new Date(g.usedAt).toLocaleDateString()]})]},g.id))}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx(gt,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhum cdigo adicionado para este plano"})]}),x.length>10&&o.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-sm text-center mt-4",children:["E mais ",x.length-10," cdigos..."]})]},v.id)})})]})]})},oy=()=>{const{purchases:e,users:t,plans:r,codes:n}=vt(),s=e.reduce((a,l)=>a+l.amount,0),i=e.length;return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex justify-between items-center",children:o.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Gerenciar Vendas"})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsx("div",{className:"bg-white dark:bg-white/10 backdrop-blur-md rounded-xl p-6 border border-gray-200 dark:border-white/20 shadow-lg dark:shadow-gray-900/20",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Total de Vendas"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:i})]}),o.jsx($r,{className:"w-8 h-8 text-blue-500"})]})}),o.jsx("div",{className:"bg-white dark:bg-white/10 backdrop-blur-md rounded-xl p-6 border border-gray-200 dark:border-white/20 shadow-lg dark:shadow-gray-900/20",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Receita Total"}),o.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["R$ ",s.toFixed(2)]})]}),o.jsx(ai,{className:"w-8 h-8 text-green-500"})]})}),o.jsx("div",{className:"bg-white dark:bg-white/10 backdrop-blur-md rounded-xl p-6 border border-gray-200 dark:border-white/20 shadow-lg dark:shadow-gray-900/20",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Ticket Mdio"}),o.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["R$ ",i?(s/i).toFixed(2):"0.00"]})]}),o.jsx(Mt,{className:"w-8 h-8 text-yellow-500"})]})})]}),o.jsxs("div",{className:"bg-white dark:bg-white/10 backdrop-blur-md rounded-xl p-6 border border-gray-200 dark:border-white/20 shadow-lg dark:shadow-gray-900/20",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[o.jsx($r,{className:"w-6 h-6 text-blue-500"}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Histrico de Vendas"})]}),e.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx($r,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg",children:"Nenhuma venda realizada"}),o.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-sm",children:"As vendas aparecero aqui conforme forem realizadas"})]}):o.jsx("div",{className:"space-y-4",children:e.sort((a,l)=>new Date(l.createdAt).getTime()-new Date(a.createdAt).getTime()).map(a=>{const l=t.find(d=>d.id===a.clientId),u=r.find(d=>d.id===a.planId),c=n.find(d=>d.id===a.codeId);return o.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 rounded-lg p-4 border border-gray-200 dark:border-white/10",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:o.jsx(Jn,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:l==null?void 0:l.name}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:l==null?void 0:l.email})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Re,{className:"w-5 h-5 text-green-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:u==null?void 0:u.name}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:u==null?void 0:u.duration})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(ai,{className:"w-5 h-5 text-yellow-500"}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-gray-900 dark:text-white font-medium",children:["R$ ",a.amount.toFixed(2)]}),o.jsxs("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:["+",a.pointsEarned," pontos"]})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(vl,{className:"w-5 h-5 text-purple-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:new Date(a.createdAt).toLocaleDateString()}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:new Date(a.createdAt).toLocaleTimeString()})]})]})]}),o.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-white/10",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Cdigo:"}),o.jsx("span",{className:"text-gray-900 dark:text-white font-mono text-sm bg-gray-100 dark:bg-white/10 px-2 py-1 rounded border border-gray-200 dark:border-white/20",children:c==null?void 0:c.code})]}),o.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${a.status==="completed"?"bg-green-100 dark:bg-green-500/20 text-green-800 dark:text-green-400 border border-green-200 dark:border-green-500/30":a.status==="pending"?"bg-yellow-100 dark:bg-yellow-500/20 text-yellow-800 dark:text-yellow-400 border border-yellow-200 dark:border-yellow-500/30":"bg-red-100 dark:bg-red-500/20 text-red-800 dark:text-red-400 border border-red-200 dark:border-red-500/30"}`,children:a.status==="completed"?"Concluda":a.status==="pending"?"Pendente":"Falhou"})]})})]},a.id)})})]})]})},ly=()=>{const[e,t]=I.useState("overview"),{plans:r,users:n,codes:s,purchases:i}=vt(),a=n.filter(y=>y.type==="client").length,l=r.filter(y=>y.isActive).length,u=s.length,c=s.filter(y=>y.isUsed).length,d=i.reduce((y,v)=>y+v.amount,0),h=[{id:"overview",label:"Viso Geral",icon:Yu},{id:"plans",label:"Planos",icon:Re},{id:"codes",label:"Cdigos",icon:gt},{id:"clients",label:"Clientes",icon:li},{id:"purchases",label:"Vendas",icon:$r}],f=()=>{switch(e){case"plans":return o.jsx(sy,{});case"codes":return o.jsx(ay,{});case"clients":return o.jsx(iy,{});case"purchases":return o.jsx(oy,{});default:return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{className:"bg-white dark:bg-white/10 backdrop-blur-md rounded-xl p-6 border border-gray-200 dark:border-white/20 shadow-lg dark:shadow-gray-900/20",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Total de Clientes"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:a})]}),o.jsx(li,{className:"w-8 h-8 text-blue-500"})]})}),o.jsx("div",{className:"bg-white dark:bg-white/10 backdrop-blur-md rounded-xl p-6 border border-gray-200 dark:border-white/20 shadow-lg dark:shadow-gray-900/20",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Planos Ativos"}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:l})]}),o.jsx(Re,{className:"w-8 h-8 text-green-500"})]})}),o.jsx("div",{className:"bg-white dark:bg-white/10 backdrop-blur-md rounded-xl p-6 border border-gray-200 dark:border-white/20 shadow-lg dark:shadow-gray-900/20",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Cdigos"}),o.jsxs("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:[c,"/",u]}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Usados/Total"})]}),o.jsx(gt,{className:"w-8 h-8 text-purple-500"})]})}),o.jsx("div",{className:"bg-white dark:bg-white/10 backdrop-blur-md rounded-xl p-6 border border-gray-200 dark:border-white/20 shadow-lg dark:shadow-gray-900/20",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Receita Total"}),o.jsxs("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:["R$ ",d.toFixed(2)]})]}),o.jsx(Yu,{className:"w-8 h-8 text-yellow-500"})]})})]}),o.jsxs("div",{className:"bg-white dark:bg-white/10 backdrop-blur-md rounded-xl p-6 border border-gray-200 dark:border-white/20 shadow-lg dark:shadow-gray-900/20",children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Vendas Recentes"}),o.jsxs("div",{className:"space-y-3",children:[i.slice(-5).reverse().map(y=>{const v=n.find(k=>k.id===y.clientId),x=r.find(k=>k.id===y.planId);return o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-white/5 rounded-lg border border-gray-200 dark:border-white/10",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:v==null?void 0:v.name}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:x==null?void 0:x.name})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-green-600 dark:text-green-400 font-medium",children:["R$ ",y.amount.toFixed(2)]}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:new Date(y.createdAt).toLocaleDateString()})]})]},y.id)}),i.length===0&&o.jsx("div",{className:"text-center py-4",children:o.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhuma venda realizada ainda"})})]})]})]})}};return o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Painel Administrativo"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"Gerencie seu sistema de revenda IPTV"})]}),o.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:h.map(y=>{const v=y.icon;return o.jsxs("button",{onClick:()=>t(y.id),className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${e===y.id?"bg-blue-500 text-white shadow-lg":"bg-white dark:bg-white/10 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-white/20 border border-gray-200 dark:border-white/20"}`,children:[o.jsx(v,{className:"w-4 h-4"}),o.jsx("span",{children:y.label})]},y.id)})}),f()]})},uy=()=>{const{user:e}=Ht(),{plans:t,purchasePlan:r,codes:n}=vt(),[s,i]=I.useState(null),[a,l]=I.useState(null),u=t.filter(h=>h.isActive),c=async h=>{if(!e)return;i(h);const f=await r(e.id,h);if(f){const y=n.find(x=>x.id===f.codeId);l({planId:h,code:(y==null?void 0:y.code)||""});const v=JSON.parse(localStorage.getItem("currentUser")||"{}");v.points=v.points+f.pointsEarned,localStorage.setItem("currentUser",JSON.stringify(v)),setTimeout(()=>{l(null)},1e4)}i(null)},d=h=>n.filter(f=>f.planId===h&&!f.isUsed).length;if(a){const h=t.find(f=>f.id===a.planId);return o.jsx("div",{className:"max-w-2xl mx-auto",children:o.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-500/20 dark:to-blue-500/20 backdrop-blur-md rounded-xl p-8 border border-green-200 dark:border-green-500/30 text-center shadow-lg",children:[o.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Gu,{className:"w-8 h-8 text-white"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Compra Realizada com Sucesso!"}),o.jsxs("p",{className:"text-gray-700 dark:text-gray-300 mb-6",children:["Seu plano ",h==null?void 0:h.name," foi ativado e aqui est seu cdigo IPTV:"]}),o.jsxs("div",{className:"bg-white dark:bg-white/10 rounded-lg p-4 mb-6 border border-gray-200 dark:border-white/20",children:[o.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[o.jsx(gt,{className:"w-5 h-5 text-blue-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300 text-sm",children:"Seu Cdigo IPTV:"})]}),o.jsx("div",{className:"bg-gray-900 dark:bg-black/30 rounded-lg p-3 border border-blue-200 dark:border-blue-500/30",children:o.jsx("span",{className:"text-white font-mono text-lg tracking-wider",children:a.code})}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mt-2",children:"Guarde este cdigo em um local seguro. Voc precisar dele para configurar seu IPTV."})]}),o.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[o.jsxs("p",{children:["Voc tambm ganhou ",h==null?void 0:h.pointsReward," pontos nesta compra!"]}),o.jsx("p",{className:"mt-2",children:"Esta mensagem desaparecer em alguns segundos..."})]})]})})}return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Nossos Planos IPTV"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Escolha o plano perfeito para suas necessidades"})]}),u.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Re,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg",children:"Nenhum plano disponvel no momento"}),o.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-sm",children:"Novos planos sero adicionados em breve"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(h=>{const f=d(h.id),y=f===0;return o.jsxs("div",{className:"bg-white dark:bg-white/10 backdrop-blur-md rounded-xl p-6 border border-gray-200 dark:border-white/20 relative overflow-hidden shadow-lg dark:shadow-gray-900/20 hover:shadow-xl dark:hover:shadow-gray-900/30 transition-shadow",children:[y&&o.jsx("div",{className:"absolute top-4 right-4 bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:"Esgotado"}),o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Re,{className:"w-8 h-8 text-white"})}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:h.name}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:h.description})]}),o.jsxs("div",{className:"text-center mb-6",children:[o.jsxs("div",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-1",children:["R$ ",h.price.toFixed(2)]}),o.jsxs("div",{className:"flex items-center justify-center space-x-2 text-gray-600 dark:text-gray-300 text-sm",children:[o.jsx(Uh,{className:"w-4 h-4"}),o.jsx("span",{children:h.duration})]})]}),o.jsx("div",{className:"space-y-3 mb-6",children:h.features.map((v,x)=>o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Gu,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300 text-sm",children:v})]},x))}),o.jsx("div",{className:"mb-6 p-3 bg-gray-50 dark:bg-white/5 rounded-lg border border-gray-200 dark:border-white/10",children:o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Mt,{className:"w-4 h-4 text-yellow-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Ganhe pontos:"})]}),o.jsxs("span",{className:"text-yellow-600 dark:text-yellow-400 font-medium",children:[h.pointsReward," pts"]})]})}),o.jsx("div",{className:"mb-4 text-center",children:o.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:[f," cdigos disponveis"]})}),o.jsx("button",{onClick:()=>c(h.id),disabled:s===h.id||y,className:`w-full flex items-center justify-center space-x-2 py-3 px-4 rounded-lg transition-colors font-medium ${y?"bg-gray-400 cursor-not-allowed text-gray-600":s===h.id?"bg-blue-400 cursor-not-allowed text-white":"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white shadow-lg hover:shadow-xl"}`,children:s===h.id?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),o.jsx("span",{children:"Processando..."})]}):y?o.jsx("span",{children:"Esgotado"}):o.jsxs(o.Fragment,{children:[o.jsx($r,{className:"w-4 h-4"}),o.jsx("span",{children:"Comprar Agora"})]})})]},h.id)})})]})},cy=()=>{const{user:e}=Ht(),{purchases:t,plans:r,codes:n}=vt(),s=t.filter(u=>u.clientId===(e==null?void 0:e.id)),i=s.reduce((u,c)=>u+c.amount,0),a=s.reduce((u,c)=>u+c.pointsEarned,0),l=u=>{navigator.clipboard.writeText(u)};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[o.jsx(mo,{className:"w-6 h-6 text-blue-500"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Histrico de Compras"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsx("div",{className:"bg-white dark:bg-white/10 backdrop-blur-md rounded-xl p-6 border border-gray-200 dark:border-white/20 shadow-lg dark:shadow-gray-900/20",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Total de Compras"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:s.length})]}),o.jsx(Re,{className:"w-8 h-8 text-blue-500"})]})}),o.jsx("div",{className:"bg-white dark:bg-white/10 backdrop-blur-md rounded-xl p-6 border border-gray-200 dark:border-white/20 shadow-lg dark:shadow-gray-900/20",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Total Gasto"}),o.jsxs("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["R$ ",i.toFixed(2)]})]}),o.jsx(ai,{className:"w-8 h-8 text-green-500"})]})}),o.jsx("div",{className:"bg-white dark:bg-white/10 backdrop-blur-md rounded-xl p-6 border border-gray-200 dark:border-white/20 shadow-lg dark:shadow-gray-900/20",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Pontos Ganhos"}),o.jsx("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:a})]}),o.jsx(Mt,{className:"w-8 h-8 text-yellow-500"})]})})]}),o.jsx("div",{className:"bg-white dark:bg-white/10 backdrop-blur-md rounded-xl p-6 border border-gray-200 dark:border-white/20 shadow-lg dark:shadow-gray-900/20",children:s.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(mo,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg",children:"Nenhuma compra realizada"}),o.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-sm",children:"Suas compras aparecero aqui aps serem realizadas"})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Suas Compras"}),s.sort((u,c)=>new Date(c.createdAt).getTime()-new Date(u.createdAt).getTime()).map(u=>{const c=r.find(h=>h.id===u.planId),d=n.find(h=>h.id===u.codeId);return o.jsx("div",{className:"bg-gray-50 dark:bg-white/5 rounded-lg p-6 border border-gray-200 dark:border-white/10",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:o.jsx(Re,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-gray-900 dark:text-white font-semibold text-lg",children:c==null?void 0:c.name}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:c==null?void 0:c.description})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ai,{className:"w-4 h-4 text-green-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Valor Pago"}),o.jsxs("p",{className:"text-gray-900 dark:text-white font-medium",children:["R$ ",u.amount.toFixed(2)]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Mt,{className:"w-4 h-4 text-yellow-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Pontos Ganhos"}),o.jsx("p",{className:"text-yellow-600 dark:text-yellow-400 font-medium",children:u.pointsEarned})]})]}),o.jsxs("div",{className:"flex items-center space-x-2 col-span-2",children:[o.jsx(vl,{className:"w-4 h-4 text-purple-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Data da Compra"}),o.jsxs("p",{className:"text-gray-900 dark:text-white font-medium",children:[new Date(u.createdAt).toLocaleDateString()," s ",new Date(u.createdAt).toLocaleTimeString()]})]})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-white dark:bg-white/10 rounded-lg p-4 border border-gray-200 dark:border-white/20",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(gt,{className:"w-4 h-4 text-blue-500"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300 text-sm",children:"Cdigo IPTV:"})]}),o.jsx("button",{onClick:()=>l((d==null?void 0:d.code)||""),className:"p-1 hover:bg-gray-200 dark:hover:bg-white/20 rounded transition-colors",title:"Copiar cdigo",children:o.jsx(Vg,{className:"w-4 h-4 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-white"})})]}),o.jsx("div",{className:"bg-gray-900 dark:bg-black/30 rounded-lg p-3 border border-blue-200 dark:border-blue-500/30",children:o.jsx("span",{className:"text-white font-mono text-sm tracking-wider break-all",children:d==null?void 0:d.code})})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Status:"}),o.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${u.status==="completed"?"bg-green-100 dark:bg-green-500/20 text-green-800 dark:text-green-400 border border-green-200 dark:border-green-500/30":u.status==="pending"?"bg-yellow-100 dark:bg-yellow-500/20 text-yellow-800 dark:text-yellow-400 border border-yellow-200 dark:border-yellow-500/30":"bg-red-100 dark:bg-red-500/20 text-red-800 dark:text-red-400 border border-red-200 dark:border-red-500/30"}`,children:u.status==="completed"?"Concluda":u.status==="pending"?"Pendente":"Falhou"})]})]})]})},u.id)})]})})]})},dy=()=>{const[e,t]=I.useState("overview"),{user:r}=Ht(),{purchases:n,plans:s}=vt(),i=n.filter(d=>d.clientId===(r==null?void 0:r.id)),a=i.reduce((d,h)=>d+h.amount,0),l=s.filter(d=>d.isActive).length,u=[{id:"overview",label:"Viso Geral",icon:Jn},{id:"plans",label:"Planos",icon:Re},{id:"history",label:"Histrico",icon:mo}],c=()=>{switch(e){case"plans":return o.jsx(uy,{});case"history":return o.jsx(cy,{});default:return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{className:"bg-white dark:bg-white/10 backdrop-blur-md rounded-xl p-6 border border-gray-200 dark:border-white/20 shadow-lg dark:shadow-gray-900/20",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Meus Pontos"}),o.jsx("p",{className:"text-3xl font-bold text-yellow-600 dark:text-yellow-400",children:(r==null?void 0:r.points)||0})]}),o.jsx(Mt,{className:"w-8 h-8 text-yellow-500"})]})}),o.jsx("div",{className:"bg-white dark:bg-white/10 backdrop-blur-md rounded-xl p-6 border border-gray-200 dark:border-white/20 shadow-lg dark:shadow-gray-900/20",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Total Gasto"}),o.jsxs("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:["R$ ",a.toFixed(2)]})]}),o.jsx($r,{className:"w-8 h-8 text-green-500"})]})}),o.jsx("div",{className:"bg-white dark:bg-white/10 backdrop-blur-md rounded-xl p-6 border border-gray-200 dark:border-white/20 shadow-lg dark:shadow-gray-900/20",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Compras"}),o.jsx("p",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:i.length})]}),o.jsx(Re,{className:"w-8 h-8 text-blue-500"})]})}),o.jsx("div",{className:"bg-white dark:bg-white/10 backdrop-blur-md rounded-xl p-6 border border-gray-200 dark:border-white/20 shadow-lg dark:shadow-gray-900/20",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Planos Disponveis"}),o.jsx("p",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:l})]}),o.jsx(gt,{className:"w-8 h-8 text-purple-500"})]})})]}),o.jsxs("div",{className:"bg-white dark:bg-white/10 backdrop-blur-md rounded-xl p-6 border border-gray-200 dark:border-white/20 shadow-lg dark:shadow-gray-900/20",children:[o.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:["Bem-vindo, ",r==null?void 0:r.name,"!"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Seus Benefcios"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-white/5 rounded-lg border border-gray-200 dark:border-white/10",children:[o.jsx(Mt,{className:"w-5 h-5 text-yellow-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:"Sistema de Pontos"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Ganhe pontos a cada compra realizada"})]})]}),o.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-white/5 rounded-lg border border-gray-200 dark:border-white/10",children:[o.jsx(Re,{className:"w-5 h-5 text-blue-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:"Planos Variados"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Escolha o plano que melhor se adapta s suas necessidades"})]})]}),o.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-white/5 rounded-lg border border-gray-200 dark:border-white/10",children:[o.jsx(gt,{className:"w-5 h-5 text-green-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:"Cdigos Instantneos"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Receba seu cdigo IPTV imediatamente aps a compra"})]})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"ltimas Compras"}),o.jsxs("div",{className:"space-y-3",children:[i.slice(-3).reverse().map(d=>{const h=s.find(f=>f.id===d.planId);return o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-white/5 rounded-lg border border-gray-200 dark:border-white/10",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:h==null?void 0:h.name}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:new Date(d.createdAt).toLocaleDateString()})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-green-600 dark:text-green-400 font-medium",children:["R$ ",d.amount.toFixed(2)]}),o.jsxs("p",{className:"text-yellow-600 dark:text-yellow-400 text-sm",children:["+",d.pointsEarned," pts"]})]})]},d.id)}),i.length===0&&o.jsxs("div",{className:"text-center py-4",children:[o.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhuma compra realizada ainda"}),o.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-sm",children:"Explore nossos planos e faa sua primeira compra!"})]})]})]})]})]})]})}};return o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Painel do Cliente"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"Gerencie suas compras e explore nossos planos IPTV"})]}),o.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:u.map(d=>{const h=d.icon;return o.jsxs("button",{onClick:()=>t(d.id),className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${e===d.id?"bg-blue-500 text-white shadow-lg":"bg-white dark:bg-white/10 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-white/20 border border-gray-200 dark:border-white/20"}`,children:[o.jsx(h,{className:"w-4 h-4"}),o.jsx("span",{children:d.label})]},d.id)})}),c()]})},hy=()=>{const{user:e,loading:t}=Ht(),{loading:r}=vt();return t||e&&r?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-100 via-blue-50 to-slate-100 dark:from-slate-900 dark:via-purple-900 dark:to-slate-900",children:o.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[o.jsx(Hr,{className:"w-8 h-8 text-blue-500 animate-spin"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300 text-lg",children:t?"Verificando autenticao...":"Carregando dados..."})]})}):e?o.jsx(Zg,{children:e.type==="admin"?o.jsx(ly,{}):o.jsx(dy,{})}):o.jsx(ry,{})};function fy(){return o.jsx(Dg,{children:o.jsx(Rg,{children:o.jsx($g,{children:o.jsx(hy,{})})})})}ch(document.getElementById("root")).render(o.jsx(I.StrictMode,{children:o.jsx(fy,{})}));
